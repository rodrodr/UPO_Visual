[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n\nCode\n1 + 1\n\n\n[1] 2"
  },
  {
    "objectID": "basico.html",
    "href": "basico.html",
    "title": "Fundamentosde visualizaci√≥n de datos",
    "section": "",
    "text": "El documental de PBS ‚ÄúEl arte de la visualizaci√≥n de datos‚Äù resulta muy informativo sobre la importancia de la visualizaci√≥n de datos:\n\n\nTodos los d√≠as vemos c√≥mo se manipula la informaci√≥n para intentar convencer a la gente. Los gr√°ficos no se quedan fuera de esa tendencia. El corto video abajo nos muestra algunas de las estrategias m√°s comunes para descubrir intentos de mentir con gr√°ficos:"
  },
  {
    "objectID": "basico.html#por-qu√©-visualizar-datos",
    "href": "basico.html#por-qu√©-visualizar-datos",
    "title": "Fundamentosde visualizaci√≥n de datos",
    "section": "",
    "text": "El documental de PBS ‚ÄúEl arte de la visualizaci√≥n de datos‚Äù resulta muy informativo sobre la importancia de la visualizaci√≥n de datos:\n\n\nTodos los d√≠as vemos c√≥mo se manipula la informaci√≥n para intentar convencer a la gente. Los gr√°ficos no se quedan fuera de esa tendencia. El corto video abajo nos muestra algunas de las estrategias m√°s comunes para descubrir intentos de mentir con gr√°ficos:"
  },
  {
    "objectID": "basico.html#qu√©-es-la-visualizaci√≥n-de-datos",
    "href": "basico.html#qu√©-es-la-visualizaci√≥n-de-datos",
    "title": "Fundamentosde visualizaci√≥n de datos",
    "section": "¬øQu√© es la visualizaci√≥n de datos?",
    "text": "¬øQu√© es la visualizaci√≥n de datos?\nLa visualizaci√≥n de datos es una forma de comunicar informaci√≥n de manera efectiva utilizando elementos visuales como gr√°ficos, mapas y tablas. Se trata de una parte esencial del trabajo cient√≠fico, puesto que representa tanto una herramienta de an√°lisis como un instrumento de comunicaci√≥n de los resultados.\nDentro de los √°mbitos cient√≠ficos, los gr√°ficos se consideran como parte del proceso de exploraci√≥n de datos. Resultan muy √∫tiles para descubrir patrones, validar la calidad de los datos y entender procesos que ser√≠an m√°s dif√≠ciles de entender si se presentaran en forma de tablas o texto.\nM√°s recientemente, su uso se ha extendido a la comunicaci√≥n de resultados y a la divulgaci√≥n cient√≠fica, ya que permiten presentar de manera clara y efectiva los hallazgos de un an√°lisis de datos tanto a expertos como a un p√∫blico no especializado."
  },
  {
    "objectID": "basico.html#por-qu√©-es-importante-la-visualizaci√≥n-de-datos",
    "href": "basico.html#por-qu√©-es-importante-la-visualizaci√≥n-de-datos",
    "title": "Fundamentosde visualizaci√≥n de datos",
    "section": "¬øPor qu√© es importante la visualizaci√≥n de datos?",
    "text": "¬øPor qu√© es importante la visualizaci√≥n de datos?\nTomemos como ejemplo, el gr√°fico ‚ÄúWarming Stripes‚Äù, creado por Edward Hakwings en 2018 para representar los cambios en las temperaturas medias anuales entre 1850 y 2017.\n \nEste gr√°fico se ha convertido en un s√≠mbolo de la lucha contra el cambio clim√°tico y ha sido utilizado por organizaciones como la ONU y la NASA para concienciar sobre el problema. ¬øPor qu√©? Examinemos algunos elementos que hacen este gr√°fico tan efectivo:\n\nSimplicidad: El gr√°fico es simple y f√°cil de entender. No hay elementos de distracci√≥n, comentarios o decoraciones indeseadas, ni siquiera hace falta una escala informando qu√© se mide. Por solo mirarlo, ya nos damos cuenta de que se trata de una secuencia lineal de temperatura. Aqu√≠, la regla de ‚Äúmenos es m√°s‚Äù se afirma con mucha potencia.\nEl uso del color: El uso del color es muy efectivo. El color azul representa temperaturas m√°s bajas, mientras que el rojo representa temperaturas m√°s altas. La elecci√≥n de estos colores es muy acertada, ya que el azul y el rojo son colores que se asocian com√∫nmente con el fr√≠o y el calor. Por lo tanto, no hace falta una leyenda para explicar qu√© representa cada barra.\nEl uso de la escala: Por tratarse de cambios (y no de valores absolutos), la variaci√≥n entre las observaciones aumenta, lo que facilita la visualizaci√≥n de un patr√≥n claro e inequ√≠voco de calentamiento global.\n\nEn resumen, aunque siempre haya habido grupos contrarios a la tesis del calentamiento global, a partir de la creaci√≥n de esta visualizaci√≥n, cualquiera que quiera argumentar en contra tendr√° mucha mayor dificultad en hacerlo y necesitar√° argumentos muy convincentes para disuadir a la gente.\nTeniendo en mente el ejemplo anterior, podemos decir que la visualizaci√≥n de datos es importante por varias razones:\n\nFacilita la comprensi√≥n de los datos: Los gr√°ficos y las visualizaciones permiten comprender mejor los datos y descubrir patrones y relaciones que ser√≠an dif√≠ciles de detectar de otra manera. Es cada vez m√°s com√∫n trabajar con una cantidad enorme de datos que ser√≠an inabarcables sin estrategias heur√≠sticas que posibilitaran su s√≠ntesis de manera efectiva. Los gr√°ficos son una de las formas de abstracci√≥n m√°s poderosas. Vemos que se trata de un gr√°fico muy f√°cil de leer.\nFacilita la comunicaci√≥n de resultados: Los gr√°ficos y las visualizaciones permiten comunicar de manera clara los resultados de un an√°lisis de datos a expertos y a un p√∫blico no especializado. No hace falta ser un experto en climatolog√≠a para entender que las barras rojas son cada vez m√°s largas y que eso significa que las temperaturas est√°n aumentando. Personas con muy distintos niveles educativos pueden entender el mensaje.\nFacilita la toma de decisiones: Los gr√°ficos y las visualizaciones permiten tomar decisiones informadas basadas en datos y evidencia. El gr√°fico de las barras de temperatura deja claro que tenemos un problema y que hace falta tomar cartas en el asunto, pues el crecimiento parece ser exponencial.\nFacilita la identificaci√≥n de problemas: Los gr√°ficos y las visualizaciones permiten identificar problemas y errores en los datos, como valores at√≠picos y datos faltantes.\nFacilita la identificaci√≥n de oportunidades: Los gr√°ficos y las visualizaciones permiten identificar oportunidades y tendencias que pueden ser aprovechadas para mejorar los procesos y los resultados.\n\n\nPor lo tanto, no hace falta tener un super gr√°fico lleno de parafernalia y ‚Äúcachibaches‚Äù para comunicar efectivamente un mensaje. La simplicidad y la claridad son las claves para una visualizaci√≥n efectiva."
  },
  {
    "objectID": "basico.html#reglas-b√°sicas",
    "href": "basico.html#reglas-b√°sicas",
    "title": "Fundamentosde visualizaci√≥n de datos",
    "section": "Reglas b√°sicas",
    "text": "Reglas b√°sicas\nExiste un conjunto de reglas b√°sicas que nos ayudan a la hora de crear visualizaciones de alta calidad. Si uno se adhiere a estos principios b√°sicos, es mucho m√°s probable que sea capaz de comunicar de manera efectiva la informaci√≥n que se desea transmitir.\n\nTenga una historia que contar o buscar\nYa s√© que parece discurso de vendedor de autos usados o de conferenciante de las charlas TED, pero es cierto. ¬øPor qu√© el gr√°fico es importante? ¬øQu√© pretende descubrir o revelar? No es necesario que sea una historia compleja o sumamente elaborada, sino que sea clara, f√°cil de entender y, sobre todo, que importe a la gente. Y para que importe a la gente, debes saber a qu√© gente te diriges, aunque, a veces, uno termina sorprendi√©ndose de la diversidad de personas que se interesan por un tema.\nEn 2018, terminadas las elecciones presidenciales de Brasil en las que gan√≥ Jair Bolsonaro, empez√≥ una discusi√≥n en los medios y las redes sociales sobre cu√°l habr√≠a sido el apoyo efectivo del tercer candidato en la disputa, Ciro Gomes, al candidato del Partido de los Trabajadores (PT), Fernando Haddad, en la segunda vuelta de los comicios. Muchos apoyadores del PT dec√≠an que Ciro Gomes hab√≠a sido el responsable de la derrota de Haddad, mientras que otros dec√≠an que no hab√≠a sido as√≠. Entonces, he decidido aplicar una t√©cnica de inferencia ecol√≥gica, que intenta descubrir patrones a partir de datos agregados, para ver si pod√≠a descubrir algo.\nPara casa mesa, he calculado la cantidad de votos que se habr√≠an transferidos de unos a otros. Con esas informaciones, pod√≠a estimar cu√°l proporci√≥n de votos de cada candidato se transfer√≠a a otros, los blancos y nulos y las abstenciones. Con esos datos, he creado el siguiente gr√°fico cordas que revela la transferencia estimada de votos entre candidatos:\n\nEn la izquierda del gr√°fico vemos la red completa de transferencias, con los candidatos derrotados en la primera vuelta en la izquierda y las opciones de voto en la segunda vuelta a la derecha. En la derecha de la imagen, vemos la transferencia de cada candidato por separado. He decidido separar cada uno de ellos para facilitar la visualizaci√≥n de los patrones.\nVemos que las secciones electorales que votaron en mayor medida a Ciro Gomes han sido las √∫nicas que inequ√≠vocamente han transferido votos a Fernando Haddad. Los patrones de los dem√°s candidatos favorecen a Bolsonaro o son m√°s complejos, sin una preferencia clara.\nAunque se tratara de una publicaci√≥n privada en facebook, destinada solamente a mis amigos polit√≥logos, en poco tiempo el gr√°fico se ha vuelto viral (infelizmente, sin la explicaci√≥n metodol√≥gica que lo acompa√±aba). Muchos de los apoyadores de Ciro lo compart√≠an y comentaban para contrarrestar las acusaciones de los del PT de que los ‚Äúciristas‚Äù hab√≠an votado nulo o apoyado a Bolsonaro. Este impacto inesperado solo fue posible porque el gr√°fico ten√≠a una historia que contar y que importaba a la gente.\n\n\nQue tus datos sean de calidad\nEn la comunidad de an√°lisis de datos en ingl√©s, se suele emplear una expresi√≥n que me parece excelente para entender los problemas y virtudes de cualquier investigaci√≥n o gr√°fico: ‚Äúgarbage in, garbage out‚Äù (algo en espa√±ol como ‚Äúaunque la mona se vista de seda, mona se queda‚Äù o quod natura non dat, Salmantica non praestat). Es decir, si no eres Mois√©s, no puedes sacar agua de piedra. Creo que las referencias populares nos quieren decir es: un an√°lisis basado en datos de mala calidad no puede aportar nada de interesante. No resulta casual que la mayor parte del trabajo de investigaci√≥n se dedique a la recolecci√≥n y limpieza de datos y en las revisiones por pares se hace hincapi√© en la consistencia de los aspectos metodol√≥gicos. Tienen que ser interesantes y confiables para ser v√°lidos.\n\n\n¬°Esto son gr√°ficos, no pinturas Rococ√≥, se√±ores!\nA m√≠, personalmente, me gusta el Rococ√≥. Esos palacios decorados, esas pinturas de Fragonard o Watteau, todo muy bonito, un lujazo manifiesto en colores y formas. No obstante, un gr√°fico (al menos en un principio) no deber√≠a ser algo que recargue los sentidos. Obviamente, hay controversias y algunos dise√±adores defienden la idea de que un gr√°fico es una forma de expresi√≥n visual m√°s y, por lo tanto, puede asumir cualquier estilo est√©tico que se desee.\nNo obstante, si queremos comunicar de forma r√°pida y efectiva a un p√∫blico que no tiene tiempo ni busca una contemplaci√≥n est√©tica en nuestros gr√°ficos, lo mejor es mantenerlos simples y claros. No es necesario que sean aburridos, pero s√≠ que sean efectivos.\n¬øQu√© quiero decir simples y claros? Primero, que no se debe abusar de los colores, las formas y los elementos decorativos. Un gr√°fico debe ser f√°cil de leer y de entender. Si el lector tiene que esforzarse para entender lo que se quiere comunicar, es probable que no lo haga. Llenar los gr√°ficos de elementos visuales vac√≠os de significado (para evitar el horror vacui) resultar√≠a contraproducente. Eso no quiere decir que no se puedan emplear elementos est√©ticos para facilitar el entendimiento y causar una impresi√≥n placentera en los lectores. Como dijo Edward Tufte en el documental de la PBS, ‚Äúel contenido siempre viene primero, la belleza naturalmente le seguir√°‚Äù.\n\n\nHuye de las plantillas de Excel, SPSS, Stata o R\n¬°Pero, tampoco nos pasemos de dejados! Si examinamos una muestra de publicaciones cient√≠ficas en las ciencias sociales resulta impresionante ver el poco cuidado est√©tico que se tiene con los gr√°ficos. Aunque no es necesario que sean obras de arte, s√≠ es importante que sean f√°ciles de leer y que aprovechen para informar lo mejor posible. No es necesario que sean muy elaborados, pero s√≠ que sean claros, efectivos y atractivos.\nEn la mayor√≠a de los casos, los autores simplemente copian y pegan los resultados de Excel, SPSS o Stata (incluso R) en sus documentos sin preocuparse por c√≥mo el perfeccionamento de elementos visuales como el color, el tipo de fuente o la disposici√≥n de los s√≠mbolos puede mejorar la comprensi√≥n de los datos. Un gr√°fico atractivo, adem√°s de limpio y efectivo, resulta agradable y llama la atenci√≥n por el placer est√©tico que produce en el observador. Tambi√©n es una forma de demostrar cierto estilo o sofisticaci√≥n en el trabajo de un autor. Es como su ‚Äúmarca‚Äù personal. Es la impresi√≥n que suelo tener cuando veo un gr√°fico de dise√±adoras como Federica Fragapane, Giorgia Lupi o Nadieh Bremer.\nAtraer la atenci√≥n del lector no es cosa menor. Tenemos a nuestra disposici√≥n miles de art√≠culos y libros para leer, y si no logramos captar la atenci√≥n del lector, es probable que nuestro trabajo no sea le√≠do. Gr√°ficos bien acabados revelan atenci√≥n al detalle y preocupaci√≥n por la calidad del trabajo que se lleva a cabo. Utilizando una analog√≠a con la moda, ser√≠a como hacer una ‚Äúoperaci√≥n bikini‚Äù y luego ir a la playa en ch√°ndal de andar por casa.\nNo digo que te conviertas en un dise√±ador para hacer un gr√°fico atractivo, pero s√≠ es necesario tener en cuenta algunos principios b√°sicos de dise√±o y visualizaci√≥n de datos. Existe una infinitud de manuales de visualizaci√≥n de datos con cap√≠tulos espec√≠ficos sobre la elecci√≥n de colores, fuentes, tama√±os, formas, etc. Mi sugerencia es que consult√©is algunas de esas obras para aprender los principios b√°sicos, valer√° mucho la pena (Brewer 2005; Healy 2019; Brewer, Hatchard, and Harrower 2003; Yau 2011, 2013; Tufte 2001; Cleveland 1993; Munzner 2014; Few 2004). Ver√©is que a partir de cierto momento se empiezan a repetir los mismos consejos y recomendaciones. En ese instante, ya tendr√°s lo suficiente para aplicar en tus propios gr√°ficos.\n\n\n\n\n\n\n\n\n\nEn el gr√°fico anterior, he comparado tres gr√°ficos realizados con plantillas de Excel, Stata y ggplot2 con uno hecho por m√≠. Aunque los tres primeros gr√°ficos son correctos y cumplen con su funci√≥n, pueden mejorar mucho.\nA√±adimos dos variables m√°s: urbanizaci√≥n para el tama√±o y si se trata de un pa√≠s de mayor√≠a musulmana. Adem√°s, incorporamos un t√≠tulo en negrita, un subt√≠tulo y una fuente. Tambi√©n hemos cambiado los colores y la posici√≥n de la leyenda y lo hemos convertido en una versi√≥n interactiva con un ‚Äútooltip‚Äù con los datos representados de forma detallada."
  },
  {
    "objectID": "gramatica.html#gr√°ficos-por-capas",
    "href": "gramatica.html#gr√°ficos-por-capas",
    "title": "Gram√°ticade los gr√°ficos",
    "section": "Gr√°ficos por capas",
    "text": "Gr√°ficos por capas\nComo se puede ver en el v√≠deo, la mejor manera de pensar en la gram√°tica de los gr√°ficos es a partir de una estructura de capas superpuestas. La idea es muy sencilla: cada gr√°fico se construye a partir de una serie de capas que se van sumando una a una, de modo que uno puede ir a√±adiendo mayor sofisticaci√≥n y complejidad en la medida que ya tiene resueltos los temas anteriores.\nCada capa de un gr√°fico es un componente independiente que se puede modificar y combinar con otras capas para crear un gr√°fico m√°s complejo. La figura abajo nos brinda una representaci√≥n visual de la gram√°tica de los gr√°ficos:\n\nEn la base se encuentra la capa de datos. Cualquier visualizaci√≥n depende fundamentalmente de la informaci√≥n que se desea comunicar. Esta capa condiciona todo lo que viene despu√©s: las geometr√≠as que podemos emplear, las estad√≠sticas, la capacidad de dividir en diferentes grupos, etc.\nImaginemos nuestra base de datos w con los datos de los pa√≠ses. Queremos crear un diagrama de dispersi√≥n para analizar la relaci√≥n entre la esperanza de vida (lifeex_total) y el nivel de democracia (dem_score14). imaginemos que queremos contrastar esas dos variables con el IDH (hdi) y el nivel del PIB per c√°pita (gdpcap3_08). Nuestro gr√°fico solo se importar√° con esas variables y ninguna m√°s, pues no las emplearemos.\n\n\nCode\n# Carga los datos\nlibrary(poliscidata)\n\n# Crea una base w a partir\n# de la original world\nw &lt;- world\n\n# Visualiza el nombre del pa√≠s,\n# la esperanza de vida y el nivel\n# de democracia\nreactable(w[, c(\"country\", \"lifeex_total\", \"dem_score14\",\"hdi\",\"gdpcap3_08\")])\n\n\n\n\n\n\n\nEsta ser√≠a nuestra capa de datos. Tenemos cinco variables, dos en formato texto (factor) y dos num√©ricas: el nombre del pa√≠s, la esperanza de vida, el nivel de democracia, el IDH y la desigualdad de g√©nero. Para crearla formalmente en R, debemos decir que la base de datos que vamos a emplear es la que se llama w en la funci√≥n ggplot del paquete ggplot2.\n\n\nCode\n# Carga el paquete\nlibrary(ggplot2)\n\n# Crea la capa de datos \ng &lt;- ggplot(w)\n\n\nEste procedimiento crea un nuevo objeto llamado g (g de gr√°fico, pero podr√≠a ser cualquier otro nombre) que contiene solamente la indicaci√≥n de que w es la capa de datos.\nLa siguiente capa es la de est√©tica. En esta capa se definen las variables que se van a visualizar y c√≥mo. Tambi√©n se refieren a ese nivel como el ‚Äúmapeo‚Äù de las variables. En nuestro caso, queremos visualizar la esperanza de vida en el eje x y el nivel de democracia en el eje y. Ya tenemos para un gr√°fico de dispersi√≥n (scatterplot).\nNo obstante, tambi√©n queremos que el tama√±o de cada punto sea proporcional al IDH, siendo que los pa√≠ses con mayor desarrollo humano tendr√°n puntos m√°s grandes y los de menos, m√°s peque√±os. Aprovechamos para definir que el color de los puntos corresponda al valor del nivel del PIB per c√°pita (Bajo, Mediano, Alto).\nPara crear la capa de est√©tica en R, ser√≠a tan sencillo como ‚Äúsumar‚Äù la definici√≥n de la est√©tica a la capa de datos:\n\n\nCode\n# A√±ade una capa de est√©tica\n# para la relaci√≥n entre la esperanza\n# de vida y el nivel de democracia\n# con el IDH establecido como tama√±o \n# y el PIB per c√°pita como color\ng &lt;- g + \n     aes(x=lifeex_total,\n         y=dem_score14,\n         size=hdi,\n         color=gdpcap3_08)\n\n# visualiza el gr√°fico\ng\n\n\n\n\n\n‚Äú¬°Pero no veo nada m√°s que el fondo y los ejes!‚Äù Claro que no. Est√°s en el backstage todav√≠a. Solo dijiste al R que quer√≠as visualizar la esperanza de vida en el eje x, el nivel de democracia en el eje y, el tama√±o de los puntos proporcional al IDH y el color de los puntos proporcional a la desigualdad de g√©nero. Pero no le dijiste c√≥mo quer√≠as visualizarlo. Para ello necesitas definir que tipo de representaci√≥n visual quieres: pueden ser puntos, l√≠neas, barras, florecitas, avioncitos‚Ä¶ ¬øC√≥mo el R va a adivinar lo que Ud.? Eso es lo que viene a continuaci√≥n.\nA√±adiremos una capa de geometr√≠a, representada por la funci√≥n geom_ seguida del tipo de geometr√≠a que queremos. En nuestro caso, queremos puntos, por lo que usaremos la funci√≥n geom_point.\n\n\nCode\n# A√±ade la capa de geometr√≠a\n# que ser√°n los puntos\ng &lt;- g + geom_point()\n\n# Visualiza el gr√°fico\ng\n\n\n\n\n\n\nAhora s√≠, ¬°habemus gr√°fico! Hemos sumado a geometr√≠a de puntos a las capas anteriores de datos y est√©tica. Pero, nos result√≥ un gr√°fico que da miedo (ya lidiaremos con eso m√°s tarde).\nMuchos parar√≠an aqu√≠, pero desperdiciar√≠amos la oportunidad de hacer un gr√°fico m√°s informativo. Todav√≠a podemos a√±adir m√°s capas y cambios a nuestra visualizaci√≥n para que sea m√°s bonita e eficaz.\nImaginemos que nos gustar√≠a separar los pa√≠ses seg√∫n regiones. Para ello, necesitamos una nueva capa: la capa de facetas. En esta capa, se definen las variables que se van a utilizar para separar los datos en diferentes paneles. En nuestro caso, queremos separar los pa√≠ses por regiones.\nPara ello, empleamos la funci√≥n facet_wrap y le decimos que queremos dividir los pa√≠ses por la variable regionun. La capa de facetas se ver√≠a as√≠:\n\n\nCode\n# A√±ade la capa de facetas para\n# dividir el gr√°fico por regiones\ng &lt;- g + facet_wrap(~regionun)\n\n# Visualiza el gr√°fico\ng\n\n\n\n\n\nComo hab√©is visto, he ido a√±adiendo capas al gr√°fico y √©l estaba de lo m√°s contento. Ahora quiero a√±adir alguna estad√≠stica chula que me permita visualizar mejor los resultados, como una elipse que circule los puntos de cada grupo de PIB per c√°pita. Lo hago por medio de una capa de estad√≠stica:\n\n\nCode\n# A√±ado la capa de estad√≠stica\ng &lt;- g + stat_ellipse()\n\n# visualizo el gr√°fico\ng\n\n\n\n\n\nYa tengo muchos decorados. Ahora toca cambiar un poco la representaci√≥n jugando con la capa de coordenadas.\n\n\nCode\n# Cambia las coordenadas\n# a polares\ng &lt;- g + coord_polar()\n\n# Visualiza el gr√°fico\ng\n\n\n\n\n\n¬øDemasiado liado para ti? Para mi tambi√©n. Mi experimento no ha sido muy exitoso. No hay problema, volvemos al tipo de coordenadas anterior:\n\n\nCode\n# Superpone las coordenadas \n# cartesianas a las anteriores\ng &lt;- g + coord_cartesian()\n\n# Visualiza el gr√°fico\ng\n\n\n\n\n\nEsto nos advierte tambi√©n que la estructura de capas no resulta obligatoria. Las √∫nicas capas que son estrictamente necesarias son la de datos, est√©tica y geometr√≠a. Las dem√°s son opcionales y pueden ser a√±adidas o quitadas seg√∫n la necesidad.\nAhora nos toca mejorar la apariencia del gr√°fico. Para ello, a√±adiemos una capa de tema. En esta capa, se definen los elementos que se van a utilizar para mejorar la apariencia del gr√°fico. Necesitamos quitar ese fondo feo, cambiar los colores, a√±adir un t√≠tulo, cambiar el nombre de los ejes, etc. Hagamoslo:\n\n\nCode\n# A√±adimos un tema pre programado\n# para quitar elementos indesejables\ng &lt;- g + theme_classic()\n\n# Cambiamos el color\ng &lt;- g + scale_color_manual(\n                values=c(\"red3\",\n                         \"orange\",\n                         \"blue\"))\n\n# A√±adimos un t√≠tulo y cambiamos\n# los nombres de los ejes\ng &lt;- g + labs(title=\"Relaci√≥n entre esperanza de vida y nivel de democracia\",\n              x=\"Esperanza de vida\",\n              y=\"Nivel de democracia\")\n\n# Cambiamos el t√≠tulo de las\n# leyendas\ng &lt;- g + guides(\n            color = guide_legend(title=\"PIB per c√°pita\"),\n            size = guide_legend(title=\"IDH\")\n            )\n\n# Aumentamos el tama√±o del t√≠tulo\ng &lt;- g + theme(plot.title = \n                 element_text(size=16, \n                              face=\"bold\")) \n\n# Visualizamos el gr√°fico\ng"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "VisualizaRVisualizaci√≥n de datos en R",
    "section": "",
    "text": "Esta p√°gina web forma parte del curso ‚ÄúAn√°lisis de textos literarios con R‚Äù. En ella, se recogen los materiales y ejemplos que se desarrollar√°n durante las sesiones."
  },
  {
    "objectID": "index.html#el-curso",
    "href": "index.html#el-curso",
    "title": "VisualizaRVisualizaci√≥n de datos en R",
    "section": "",
    "text": "Esta p√°gina web forma parte del curso ‚ÄúAn√°lisis de textos literarios con R‚Äù. En ella, se recogen los materiales y ejemplos que se desarrollar√°n durante las sesiones."
  },
  {
    "objectID": "index.html#el-profesor",
    "href": "index.html#el-profesor",
    "title": "VisualizaRVisualizaci√≥n de datos en R",
    "section": "El profesor",
    "text": "El profesor\nRodrigo Rodrigues-Silveira \nrodrodr@usal.es\nProfesor de ciencia pol√≠tica de la USAL. Actualmente, en estancia de recualificaci√≥n en la UPO (hasta agosto de 2024). Director del proyecto ‚ÄúComportamiento legislativo y erosi√≥n democr√°tica en Am√©rica Latina‚Äù (PELA Comportamiento)."
  },
  {
    "objectID": "index.html#el-contenido",
    "href": "index.html#el-contenido",
    "title": "VisualizaRVisualizaci√≥n de datos en R",
    "section": "El contenido",
    "text": "El contenido\nDurante el curso se abordar√°n los siguientes temas:\n\nIntroducci√≥n a la gram√°tica de los gr√°ficos\nDistintos tipos de gr√°ficos\nGr√°ficos y tipos de datos\nTemas y presentaci√≥n visual de los gr√°ficos\nGr√°ficos interactivos en R"
  },
  {
    "objectID": "index.html#sesiones",
    "href": "index.html#sesiones",
    "title": "VisualizaRVisualizaci√≥n de datos en R",
    "section": "Sesiones",
    "text": "Sesiones\nLas sesiones tendr√°n lugar tanto en el Edificio 10, Aula de Inform√°tica 1 del campus de la Universidad Pablo de Olavide como en el et√©reo espacio de la nube, por medio de la plataforma Blackboard. Los enlaces de acceso a las sesiones se enviar√°n a los correos electr√≥nicos de los participantes.\nD√çA 1 - 03/06/2024 de 10 a 13h\nD√çA 2 - 05/06/2024 de 10 a 13h\nD√çA 3 - 06/06/2024 de 10 a 13h"
  },
  {
    "objectID": "index.html#servicio-t√©cnico",
    "href": "index.html#servicio-t√©cnico",
    "title": "VisualizaRVisualizaci√≥n de datos en R",
    "section": "ü§ñ Servicio t√©cnico ü§ñ",
    "text": "ü§ñ Servicio t√©cnico ü§ñ\nPara que pod√°is reproducir los ejemplos de an√°lisis presentados durante el curso deb√©is instalar en vuestros ordenadores el R y el RStudio Desktop.\nTambi√©n deb√©is ejecutar el siguiente c√≥digo en R que instala los paquetes necesarios:\n\n\nCode\n# Crea un vector con los paquetes a instalar\npc &lt;- c(\"ggplot2\",\"ggthemes\",\"ggrepel\",\"ggdist\",\n        \"ggiraph\",\"giraphExtra\",\"ggridges\",\"dplyr\",\n        \"vdemdata\",\"sf\",\"cowplot\",\"poliscidata\",\n        \"treemap\",\"treemapify\",\"plotly\",\"networkD3\",\n        \"gapminder\",\"patchwork\",\"ggcorrplot\",\n        \"ggnetwork\",\"ggridges\",\"ggbeeswarm\",\n        \"netrankr\",\"igraph\",\"reactable\")\n\n# Instala los paquetes\ninstall.packages(pc)\n\n# Instala el paquete tenet que no est√° en CRAN\n# (si ya no lo hab√©is instalado en el curso \n# anterior de introducci√≥n al R)\ndevtools::install_github(\"rodrodr/tenet\", force=T)"
  },
  {
    "objectID": "interactivo.html#ggiraph",
    "href": "interactivo.html#ggiraph",
    "title": "Interactividaden los gr√°ficos",
    "section": "ggiraph",
    "text": "ggiraph\nasas\n\n\nCode\nlibrary(poliscidata)\n\nw &lt;- world\n\n# Crea un tooltip con algunos datos\n# del pa√≠s\nw$tooltip_text &lt;- paste0(\"&lt;strong&gt;\", w$country, \"&lt;/strong&gt;&lt;br&gt;\",\n                         \"&lt;strong&gt;Esperanza de vida:&lt;/strong&gt; \",\n                         w$lifeex_total,\n                         \"&lt;br&gt;&lt;strong&gt;Democracia:&lt;/strong&gt; \",\n                         w$dem_score14)\n\n\nlibrary(ggthemes)\nlibrary(ggplot2)\nlibrary(ggiraph)\n\n# Capa de datos\np &lt;- ggplot(w)\n\n# A√±ade la capa de est√©tica\np &lt;- p +\n   aes(x = lifeex_total, \n       y = dem_score14,\n       data_id=regionun)\n\n# A√±ade la capa geom√©trica interactiva\np &lt;- p + geom_point_interactive(\n              aes(tooltip = tooltip_text)\n              )\n\n# Visualiza el gr√°fico interactivo\nx &lt;- girafe(ggobj = p, \n            options = \n              list(\n                opts_hover_inv(css = \"opacity:0.1;\")\n              )\n            )\n\nx\n\n\n\n\n\n\n\n\nCode\nlibrary(ggthemes)\nlibrary(ggplot2)\nlibrary(ggiraph)\n\n\nnc &lt;- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)\n\n\ngg &lt;- ggplot(nc) +\n  geom_sf_interactive(aes(fill = AREA, tooltip = NAME, data_id = NAME))+\n  theme_map()+\n  theme(legend.position = \"none\")+\n  scale_fill_continuous_tableau(palette=\"Purple\")\n  \n  \nx &lt;- girafe(ggobj = gg, \n            options = \n              list(\n                opts_hover(css = ''), \n                opts_hover_inv(css = \"opacity:0.1;\")\n    )\n  )\n\nx"
  },
  {
    "objectID": "interactivo.html#plotly",
    "href": "interactivo.html#plotly",
    "title": "Interactividaden los gr√°ficos",
    "section": "plotly",
    "text": "plotly\n\n\nCode\nlibrary(plotly)\nlibrary(ggplot2)\n\n# Capa de datos\np &lt;- ggplot(w)\n\n# A√±ade la capa de est√©tica\np &lt;- p +\n   aes(x = lifeex_total, \n       y = dem_score14,\n       fill=regionun)\n\n# A√±ade la capa geom√©trica\np &lt;- p + geom_point(color=\"transparent\")\n\nggplotly(p)"
  },
  {
    "objectID": "interactivo.html#visnetwork",
    "href": "interactivo.html#visnetwork",
    "title": "Interactividaden los gr√°ficos",
    "section": "Visnetwork",
    "text": "Visnetwork"
  },
  {
    "objectID": "interactivo.html#tenet",
    "href": "interactivo.html#tenet",
    "title": "Interactividaden los gr√°ficos",
    "section": "tenet",
    "text": "tenet"
  },
  {
    "objectID": "interactivo.html#otros-paquetes",
    "href": "interactivo.html#otros-paquetes",
    "title": "Interactividaden los gr√°ficos",
    "section": "Otros paquetes",
    "text": "Otros paquetes\nNetworkD3\nleaflet\ntmap"
  },
  {
    "objectID": "personalizacion.html#personalizaci√≥n-de-los-gr√°ficos",
    "href": "personalizacion.html#personalizaci√≥n-de-los-gr√°ficos",
    "title": "AparienciaPersonalizaci√≥n y temas",
    "section": "Personalizaci√≥n de los gr√°ficos",
    "text": "Personalizaci√≥n de los gr√°ficos\n\nColores\naa\n\n\nFormas y s√≠mbolos\naa\n\n\nT√≠tulos y etiquetas\naa"
  },
  {
    "objectID": "personalizacion.html#temas",
    "href": "personalizacion.html#temas",
    "title": "AparienciaPersonalizaci√≥n y temas",
    "section": "Temas",
    "text": "Temas\n\nTemas predefinidos\naa\n\n\nPersonalizaci√≥n de los temas\naa"
  },
  {
    "objectID": "recursos.html",
    "href": "recursos.html",
    "title": "Recursos √∫tiles para la visualizaci√≥n de datos",
    "section": "",
    "text": "Existen muchos proyectos que nos ayudan a crear visualizaciones de datos hermosas y efectivas. Algunos de ellos son recursos extremadamente √∫tiles y repositorios de c√≥digo disponibles para nosotros.\n\n\nLa p√°gina web Dataviz inspiration provee hermosos gr√°ficos e historias de datos. Estos ejemplos curados nos ayudan a visualizar el potencial completo de la visualizaci√≥n de datos y a obtener algunas ideas que podemos usar para nuestros propios an√°lisis. Uno de los ejemplos sobresalientes es Ailing Brussels, un an√°lisis de la desigualdad en Bruselas por la revista belga de investigaci√≥n Med√≥r. El proyecto emplea mapas, gr√°ficos, animaci√≥n y una narrativa convincente a trav√©s de im√°genes, textos y videos para describir la divisi√≥n espacial de Bruselas en cuanto a oportunidades y niveles de precariedad.\n\n\n\n\n\nVisite ambos sitios, Dataviz Inspirations y Ailing Brussels, para tener una maravillosa experiencia de las posibilidades de la visualizaci√≥n de datos.\n\n\n\nEl segundo recurso es el Proyecto Data to Viz. Es el resultado de un gran esfuerzo de sistematizaci√≥n. Yan Holtz, el creador, organiz√≥ gr√°ficos seg√∫n el tipo de datos o el tipo de an√°lisis. Cada gr√°fico tiene su propia p√°gina explicando c√≥mo y en qu√© ocasi√≥n se debe usar o evitar. Tambi√©n proporciona acceso a R Graph Gallery con c√≥digo detallado que muestra c√≥mo replicarlo en R.\n\n\n\n\n\n\n\n\nComo se mencion√≥ anteriormente, esta p√°gina web es un repositorio que contiene c√≥digo para que los usuarios reproduzcan muchos tipos diferentes de gr√°ficos en R. ¬øC√≥mo puedo hacer un gr√°fico de dispersi√≥n en R? Mire la galer√≠a y lo descubrir√°. ¬øY un gr√°fico de barras? Lo mismo. Este es un lugar obligatorio para buscar cuando se aprende visualizaci√≥n de datos."
  },
  {
    "objectID": "recursos.html#introducci√≥n",
    "href": "recursos.html#introducci√≥n",
    "title": "Recursos √∫tiles para la visualizaci√≥n de datos",
    "section": "",
    "text": "Existen muchos proyectos que nos ayudan a crear visualizaciones de datos hermosas y efectivas. Algunos de ellos son recursos extremadamente √∫tiles y repositorios de c√≥digo disponibles para nosotros.\n\n\nLa p√°gina web Dataviz inspiration provee hermosos gr√°ficos e historias de datos. Estos ejemplos curados nos ayudan a visualizar el potencial completo de la visualizaci√≥n de datos y a obtener algunas ideas que podemos usar para nuestros propios an√°lisis. Uno de los ejemplos sobresalientes es Ailing Brussels, un an√°lisis de la desigualdad en Bruselas por la revista belga de investigaci√≥n Med√≥r. El proyecto emplea mapas, gr√°ficos, animaci√≥n y una narrativa convincente a trav√©s de im√°genes, textos y videos para describir la divisi√≥n espacial de Bruselas en cuanto a oportunidades y niveles de precariedad.\n\n\n\n\n\nVisite ambos sitios, Dataviz Inspirations y Ailing Brussels, para tener una maravillosa experiencia de las posibilidades de la visualizaci√≥n de datos.\n\n\n\nEl segundo recurso es el Proyecto Data to Viz. Es el resultado de un gran esfuerzo de sistematizaci√≥n. Yan Holtz, el creador, organiz√≥ gr√°ficos seg√∫n el tipo de datos o el tipo de an√°lisis. Cada gr√°fico tiene su propia p√°gina explicando c√≥mo y en qu√© ocasi√≥n se debe usar o evitar. Tambi√©n proporciona acceso a R Graph Gallery con c√≥digo detallado que muestra c√≥mo replicarlo en R.\n\n\n\n\n\n\n\n\nComo se mencion√≥ anteriormente, esta p√°gina web es un repositorio que contiene c√≥digo para que los usuarios reproduzcan muchos tipos diferentes de gr√°ficos en R. ¬øC√≥mo puedo hacer un gr√°fico de dispersi√≥n en R? Mire la galer√≠a y lo descubrir√°. ¬øY un gr√°fico de barras? Lo mismo. Este es un lugar obligatorio para buscar cuando se aprende visualizaci√≥n de datos."
  },
  {
    "objectID": "recursos.html#proyectos-hermosos",
    "href": "recursos.html#proyectos-hermosos",
    "title": "Recursos √∫tiles para la visualizaci√≥n de datos",
    "section": "Proyectos hermosos",
    "text": "Proyectos hermosos\nEn esta secci√≥n, presentamos algunos proyectos que nos inspiran y nos muestran c√≥mo la visualizaci√≥n de datos puede ser hermosa y efectiva.\n\nDear Data\nSe trata de un proyecto de dos dise√±adoras, Giorgia Lupi y Stefanie Posavec, que consiste en enviar postales semanales con datos personales dibujados a mano. Cada semana, durante un a√±o, las dos dise√±adoras recopilaron datos sobre sus vidas cotidianas y los representaron en postales. El proyecto resultante es una colecci√≥n de visualizaciones de datos dibujadas a mano que revelan la belleza de los datos y la creatividad de las dise√±adoras. El proyecto tambi√©n se convirti√≥ en un libro, Dear Data, que recopila las postales y las visualizaciones de datos.\nUn breve video explicando el proyecto:\n\nLa metodolog√≠a empleada explicada con m√°s detalle:\n\n\n\n\nEspa√±a vive en pisos (El Diario.es)\nEste proyecto de El Diario.es es un ejemplo de c√≥mo la visualizaci√≥n de datos puede ser utilizada para contar historias complejas. El proyecto visualiza la distribuci√≥n de la poblaci√≥n en Espa√±a y c√≥mo la mayor√≠a de la gente vive en pisos. La visualizaci√≥n combina mapas, gr√°ficos y narrativa para contar la historia de c√≥mo la mayor√≠a de la gente en Espa√±a vive en pisos y c√≥mo esto afecta a la calidad de vida y la desigualdad en el pa√≠s.\nNo se trata de la √∫nica visualizaci√≥n premiada. A d√≠a de hoy, el peri√≥dico posee el equipo de periodismo de datos m√°s destacado de Espa√±a y uno de los m√°s reconocidos a nivel internacional.\n\n\n\n\n\n\n\nEl Atlas de los ODS\nEl Atlas de los Objetivos de Desarrollo Sostenible (ODS) es un proyecto de la Divisi√≥n de Datos del Banco Mundial que visualiza los datos de los ODS en un formato interactivo y accesible. El Atlas proporciona visualizaciones de datos sobre los 17 ODS y los 169 objetivos espec√≠ficos de los ODS. Los datos se presentan en mapas, gr√°ficos y tablas interactivas que permiten a los usuarios explorar los datos y comparar los indicadores de los ODS en diferentes pa√≠ses y regiones. El Atlas es una herramienta valiosa para los responsables de la toma de decisiones, los investigadores y el p√∫blico en general que deseen comprender mejor los desaf√≠os y las oportunidades relacionados con los ODS.\n\n\n\n\n\n\n\nPoppy field\nValentina D‚ÄôFillipo cre√≥ una visualizaci√≥n para conmemorar el centenario de la Primera Guerra Mundial. La visualizaci√≥n muestra la cantidad de soldados que murieron en las guerras ocurridas durante el per√≠odo comprendido entre 1914 y 2014, representados por amapolas. La visualizaci√≥n es interactiva y permite a los usuarios explorar la cantidad de soldados que murieron en cada pa√≠s y en cada a√±o en las distintas guerras. La visualizaci√≥n es hermosa y efectiva, y nos recuerda la importancia de la visualizaci√≥n de datos para contar historias y evitar el olvido de eventos hist√≥ricos importantes.\n\n\n\n\n\n\n\nVisual Cinnamon\nVisual Cinnamon es la p√°gina personal de la dise√±adora visual Nadieh Bremer. Se trata de una fuente de inspiraci√≥n para cualquier persona interesada en la visualizaci√≥n de datos. Nadieh es conocida por su estilo √∫nico y su habilidad para combinar datos y dise√±o de una manera hermosa y efectiva. Su portafolio incluye visualizaciones de datos sobre temas como la m√∫sica, la astronom√≠a y la historia.\nAlgunos ejemplos de su trabajo que me gustan particularmente:\n\nPatrimonio cultural intangible (UNESCO)\nSe trata de una visualizaci√≥n interactiva que muestra el patrimonio cultural intangible de la UNESCO. Incorpora diversos tipos de gr√°fico y nos permite sacar ideas de qu√© podemos hacer con diferentes tipos de dato.\n\n\n\n\n\n\n\n¬øPor qu√© los gatos y perros‚Ä¶? (Google)\nEn esta visualizaci√≥n, Nadieh explora las preguntas m√°s comunes sobre gatos y perros en Google. Nos recuerda la estructura jer√°rquica del lenguaje y c√≥mo podemos representar las alternativas variantes de forma visualmente impactante y efectiva."
  },
  {
    "objectID": "tipos.html",
    "href": "tipos.html",
    "title": "Tiposde gr√°fico",
    "section": "",
    "text": "En esta parte del curso examinaremos algunos de los tipos m√°s comunes de gr√°fico. Los organizaremos seg√∫n el tipo de an√°lisis que se desea realizar con ellos. Por ejemplo, si queremos saber si una variable cuantitativa afecta otra igual, realizamos un gr√°fico de dispersi√≥n o un correlograma. si el objetivo es saber la frecuencia de una variable categ√≥rica, un gr√°fico de barras puede ser la mejor opci√≥n."
  },
  {
    "objectID": "tipos.html#introducci√≥n",
    "href": "tipos.html#introducci√≥n",
    "title": "Tiposde gr√°fico",
    "section": "",
    "text": "En esta parte del curso examinaremos algunos de los tipos m√°s comunes de gr√°fico. Los organizaremos seg√∫n el tipo de an√°lisis que se desea realizar con ellos. Por ejemplo, si queremos saber si una variable cuantitativa afecta otra igual, realizamos un gr√°fico de dispersi√≥n o un correlograma. si el objetivo es saber la frecuencia de una variable categ√≥rica, un gr√°fico de barras puede ser la mejor opci√≥n."
  },
  {
    "objectID": "tipos.html#tipos-de-dato-y-tipos-de-gr√°ficos",
    "href": "tipos.html#tipos-de-dato-y-tipos-de-gr√°ficos",
    "title": "Tiposde gr√°fico",
    "section": "Tipos de dato y tipos de gr√°ficos",
    "text": "Tipos de dato y tipos de gr√°ficos\nCada tipo de gr√°fico suele corresponder a un tipo de dato o a una combinaci√≥n entre tipos de dato. Por esa raz√≥n, resulta √∫til conocer la clasificaci√≥n de los gr√°ficos seg√∫n los diferentes tipos de informaci√≥n para sacar los mejores resultados.\nLa p√°gina from Data to Viz resulta muy √∫til, pues ofrece una doble clasificaci√≥n de los datos: por tipo de dato y el tipo de representaci√≥n que se desea realizar. Recomiendo fuertemente que la estudi√©is con detenimiento para tener una idea general de qu√© opciones ten√©is. Luego, podr√©is regresar a la p√°gina para refrescar los conceptos y encontrar ejemplos, as√≠ como los c√≥digos. Se trata de una herramienta muy √∫til a la hora de elegir el tipo de visualizaci√≥n que queremos para nuestros datos."
  },
  {
    "objectID": "tipos.html#distribuci√≥n",
    "href": "tipos.html#distribuci√≥n",
    "title": "Tiposde gr√°fico",
    "section": "Distribuci√≥n",
    "text": "Distribuci√≥n\nLos gr√°ficos de distribuci√≥n son √∫tiles para entender c√≥mo se distribuyen los datos. ¬øCu√°l categor√≠a es la m√°s frecuente? ¬øLos votos en un partido X en las mesas de Sevilla se encuentran concentrados alrededor de la media o var√≠an mucho? Las visualizaciones de este apartado ayudan a responder a dichas preguntas. En este grupo se encuentran los histogramas, los gr√°ficos de densidad, los diagramas de caja (boxplots) o los de viol√≠n (violin).\n\nGr√°ficos de barras\nEl gr√°fico de barras es uno de los m√°s comunes y √∫tiles. Se utiliza para representar la frecuencia de una variable categ√≥rica. Por ejemplo, si queremos saber cu√°ntos votos ha obtenido cada partido en una elecci√≥n, un gr√°fico de barras es la mejor opci√≥n. Esto nos permite comparar los valores y sacar conclusiones y patrones a partir de ellos.\nEl c√≥digo abajo crea un gr√°fico de barra para la variable pot_policy de la base de datos de los estados de EE. UU. La variable pot_policy representa la pol√≠tica relacionada a la legalizaci√≥n de la marijuana dominante en cada estado.\nAdem√°s, para no aburrirnos, tambi√©n vamos a crear un gr√°fico de barras polar. Este tipo de gr√°fico es √∫til cuando queremos comparar la frecuencia de una variable categ√≥rica en un c√≠rculo. En este caso, la variable pot_policy se encuentra en el eje x y el eje y representa la frecuencia de cada categor√≠a. Como ver√©is, se trata del mismo gr√°fico. Lo √∫nico que cambia es el sistema de coordenadas.\n\n\nCode\n# Carga los datos\nlibrary(poliscidata)\n\n# Crea un data.frame d\n# con los datos de los estados\nd &lt;- states\n\n\n# reordena de modo decreciente de \n# la frecuencia\nd$pot_policy &lt;- reorder(\n                       d$pot_policy, \n                       d$pot_policy, \n                       function(x) -length(x))\n\n#\nlibrary(ggplot2)\n\n# 1) Crea la capa de datos\np &lt;- ggplot(data = d)\n\n# 2 ) A√±ade la capa de est√©tica\np &lt;- p + aes(x=pot_policy) \n\n# 3) A√±ade la capa de geometr√≠a\np &lt;- p + geom_bar()\n\n# Visualiza el gr√°fico\np\n\n\n\n\n\nCode\n# 4) A√±ade la capa de coordenadas \n# (en este caso polares)\np + coord_polar()\n\n\n\n\n\n\n\nHistograma\nEl histograma es una visualizaci√≥n muy √∫til para entender la distribuci√≥n de una variable cuantitativa. Se divide en intervalos que contienen el n√∫mero de observaciones (en nuestro caso estados) con valores entre los l√≠mites de cada uno de ellos.\nEn el siguiente c√≥digo, creamos un histograma para la variable pop2010 de la base de datos de los estados de EE. UU. La variable pop2010 representa la poblaci√≥n de cada estado en el a√±o 2010.\n\n\nCode\nlibrary(ggplot2)\n\n# Crea el histograma para pop2010\np &lt;- ggplot(d, aes(pop2010))+\n  \n      # Adicional la geometr√≠a con 8 intervalos\n      geom_histogram(bins = 8)\n\n# Visualiza\np\n\n\n\n\n\nComo podemos ver, el patr√≥n com√∫n de los datos de poblaci√≥n se revela: muchos estados con poca poblaci√≥n y unos pocos con mucha. Ese comportamiento suele pasar tambi√©n en municipios, pa√≠ses, etc.\n\n\nDensidad\nEl gr√°fico de densidad es similar al histograma, pero en lugar de contar el n√∫mero de observaciones en un intervalo, muestra una curva que representa la densidad de probabilidad de la variable. En otras palabras, el √°rea bajo la curva es igual a 1.\n\n\nCode\nlibrary(ggplot2)\n\n# Crea el gr√°fico de densidad de pop2010\np &lt;- ggplot(d, aes(pop2010))+\n  \n      # Adiciona la geometr√≠a de densidad\n      geom_density()\n\n# Visualiza\np\n\n\n\n\n\nComo vemos, la curva de densidad nos muestra que la mayor√≠a de los estados tienen una poblaci√≥n baja, pero hay algunos con una poblaci√≥n muy alta. Se trata de la misma informaci√≥n que en el histograma anterior, pero no hay cortes bruscos como los generados por los intervalos. Esa caracter√≠stica evita posibles distorsiones ocasionadas por la elecci√≥n del n√∫mero o del tama√±o de los intervalos.\n\n\nBoxplot\nOtro gr√°fico de distribuci√≥n muy √∫til es el boxplot. Este gr√°fico muestra la distribuci√≥n de una variable cuantitativa a trav√©s de cinco estad√≠sticas: el m√≠nimo, el primer cuartil, la mediana, el tercer cuartil y el m√°ximo. Adem√°s, tambi√©n muestra los valores at√≠picos (outliers). Se emplea para analizar la dispersi√≥n y la simetr√≠a de los datos. Un diagrama donde las partes son sim√©tricas y la caja resulta muy peque√±a indica que los datos est√°n muy concentrados alrededor de la mediana. Por otro lado, una caja grande y asim√©trica indica que los datos est√°n dispersos y que hay una mayor dispersi√≥n hacia los mayores o menores valores.\nEl gr√°fico abajo crea un boxplot para la variable que mide el porcentaje de desempleo (unemploy) en cada estado. Para a√±adir valor, elegimos agrupar los estados por regi√≥n para saber si existe alg√∫n patr√≥n territorial en la distribuci√≥n del paro en EE. UU.\nLos par√°metros fill y group son necesarios para que el gr√°fico muestre una caja por cada regi√≥n. En el primer caso, se atribuye un color a cada regi√≥n y group se encarga de que cada regi√≥n tenga su propia caja.\n\n\nCode\np &lt;- ggplot(data = d,\n            mapping = aes(x=unemploy, \n                          y=region,\n                          fill=region,\n                          group=region)) + \n        geom_boxplot(width=0.1)\n\np\n\n\n\n\n\nVemos claramente dos patrones. De un lado, se encuentra el Oeste con estados con poco paro y otros con una tasa elevada. La dispersi√≥n resulta alta, tanto por los ‚Äúbigotes‚Äù como por el tama√±o de la caja. Adem√°s, los valores altos se encuentran m√°s dispersos, pues la caja es m√°s grande en la parte derecha. Por otro lado, el Noreste tiene una tasa de paro m√°s concentrada, aunque la dispersi√≥n resulta mayor en la parte superior de la caja.\n\n\nViolin plot\nEl violin plot es una combinaci√≥n de un boxplot y un density plot. Muestra la distribuci√≥n de una variable cuantitativa y la densidad de probabilidad de la misma. Es √∫til para comparar distribuciones entre diferentes grupos. En el siguiente gr√°fico, creamos un violin plot para la variable unemploy (tasa de paro) agrupada por regi√≥n. Vemos que resulta muy parecido al boxplot anterior, pero con la ventaja de mostrar la densidad de probabilidad de la variable, es decir, d√≥nde se concentran los valores. Aprovechamos para a√±adir los puntos de cada observaci√≥n con geom_jitter. As√≠ queda m√°s f√°cil entender por qu√© el gr√°fico tiene la forma que tiene.\n\n\nCode\np &lt;- ggplot(data = d,\n            mapping = aes(x=unemploy, \n                          y=region,\n                          group=region)) + \n        geom_violin()+\n        geom_jitter(aes(color=region))\n\np\n\n\n\n\n\n\n\nLollipop\nEl gr√°fico de lollipop es una variante del gr√°fico de barras. En lugar de barras, se utilizan segmentos de l√≠nea para representar las frecuencias de las categor√≠as. Es √∫til cuando se quiere resaltar una categor√≠a en particular. En el siguiente gr√°fico, creamos un lollipop para la variable abort_rank3, que representa la clasificaci√≥n de los estados seg√∫n su legislaci√≥n sobre el aborto.\nMientras que en los casos anteriores, cada gr√°fico ten√≠a una sola geometr√≠a, en el lollipop se combinan dos: geom_point (punto) y geom_segment (segmento de l√≠nea). Esta estrategia resulta muy com√∫n en la creaci√≥n de visualizaciones originales y personalizadas. Dominar la combinaci√≥n entre geometr√≠as puede ser muy √∫til para crear gr√°ficos m√°s complejos y atractivos.\n\n\nCode\nlibrary(ggplot2)\n\n# Crea una tabla ordenada con los\n# valores de abort_rank3\ntb &lt;- sort(table(d$abort_rank3))\n\n# La convierte en base de datos\n# para la funci√≥n ggplot\ntb &lt;- data.frame(tb)\n\n# Crea el gr√°fico de lollipop\np &lt;- ggplot(tb, \n            aes(y=Var1, \n                x=Freq)) +\n  \n  # A√±ade los puntos rojos\n  geom_point(color=\"red\") + \n  \n  # A√±ade los segmentos\n  geom_segment( aes(y=Var1, \n                    yend=Var1, \n                    x=0, \n                    xend=Freq))\n\n# Dibuja el gr√°fico\np\n\n\n\n\n\n\n\nTreemap\nUn treemap es un gr√°fico de proporciones representadas por √°reas o rect√°ngulos. Cuanto mayor sea el √°rea, mayor ser√° la frecuencia de una categor√≠a dada (representada por un rect√°ngulo). La principal ventaja de los treemaps es que permite representar datos jer√°rquicos. Por lo tanto, los grupos y subgrupos dentro de ellos pueden visualizarse f√°cilmente. Adem√°s, los treemaps permiten sintetizar muchos datos en un espacio relativamente peque√±o.\n\n\nCode\nlibrary(ggplot2)\n\n# Carga el paquete treemapify\nlibrary(treemapify)\n\n# Crea una tabla ordenada con\n# las pol√≠ticas de control de\n# la marijuana\ntb &lt;- sort(table(d$pot_policy))\n\n# Convierte en base de datos\ntb &lt;- data.frame(tb)\n\n# Crea el treemap usando la\n# geometr√≠a geom_treemap()\n# del paquete teemapify\n\n# Inicialmente, define\n# el gr√°fico con el √°rea, color\n# y etiqueta\np &lt;- ggplot(tb, \n            aes(area = Freq, \n                fill = Var1, \n                label=Var1)) +\n  \n  # A√±ade la geometr√≠a de\n  # treemap al gr√°fico\n  geom_treemap()\n\n# Visualiza el resultado\np\n\n\n\n\n\n\n\nBeeSwarm\nEl gr√°fico de beeswarm es una variante del scatter plot que permite visualizar la distribuci√≥n de una variable cuantitativa en funci√≥n de una variable categ√≥rica. Es √∫til para comparar la distribuci√≥n de una variable cuantitativa entre diferentes grupos. En el siguiente gr√°fico, creamos un beeswarm para la variable pop_65_older (poblaci√≥n de 65 a√±os o m√°s) agrupada por el nivel de democracia de los pa√≠ses. Adem√°s, a√±adimos el color seg√∫n la religi√≥n de los pa√≠ses.\nComo vemos, tambi√©n se parece mucho al violin plot anterior. Sin embargo, el beeswarm tiene la ventaja de mostrar cada observaci√≥n individual, lo que puede ser √∫til para detectar patrones o valores at√≠picos. Adem√°s, resulta m√°s atractivo visualmente, pues los puntos no se superponen y se distribuyen de forma m√°s uniforme. En este caso, a√±adimos la religi√≥n como informaci√≥n adicional para intentar encontrar alg√∫n patr√≥n en los datos.\n\n\nCode\nw &lt;- world\n\n# Carga los paquetes necesarios\nlibrary(ggplot2)        \nlibrary(ggbeeswarm)      \n\n# Crea el gr√°fico con el nivel de democracia\n# y la poblaci√≥n de 65 a√±os o m√°s\n# con color seg√∫n la religi√≥n\np &lt;- ggplot(data = w,\n            mapping = aes(x=dem_level4, \n                          y=pop_65_older, \n                          color=religoin)) \n\n# A√±adimos la geometr√≠a: geom_quasirandom()\np &lt;- p + geom_quasirandom(size=1.5)\n\n# Visualizamos los resultados\np\n\n\n\n\n\nComo vemos, las poblaciones de las democracias plenas presentan una mayor proporci√≥n de personas de 65 a√±os o m√°s. La autocracia, por otro lado, presenta una poblaci√≥n m√°s joven. Adem√°s, parece que la religi√≥n predominantes en los pa√≠ses con mayor proporci√≥n de personas de 65 a√±os y m√°s democr√°ticos es el cristianismo, mientras que los m√°s j√≥venes y autoritarios son en su mayor parte de mayor√≠a musulmana.\n\n\nRidge Plot\nEl gr√°fico de ridge es una variante del density plot que permite visualizar la distribuci√≥n de una variable cuantitativa en funci√≥n de una variable categ√≥rica. Es √∫til para comparar la distribuci√≥n de una variable cuantitativa entre diferentes grupos. En el siguiente gr√°fico, creamos un ridge para la variable frac_eth (fracci√≥n de etnias) agrupada por la religi√≥n de los pa√≠ses.\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\nlibrary(ggridges)\n\n# Crea el gr√°fico\n# con la relaci√≥n entre \n# fraccionamiento √©tnico y religi√≥n\np &lt;- ggplot(w,\n            aes(x=frac_eth, \n                y=religoin, \n                fill=religoin))\n\n# A√±ade la capa de geometr√≠a\np &lt;- p + geom_density_ridges()\n\n# Visualiza los resultados\np\n\n\n\n\n\nComo vemos, la distribuci√≥n de la fracci√≥n √©tnica var√≠a seg√∫n la religi√≥n predominante en los pa√≠ses. Los pa√≠ses con mayor√≠a musulmana presentan una mayor fracci√≥n √©tnica, mientras que los pa√≠ses con mayor√≠a cat√≥lica presentan una menor fracci√≥n √©tnica. Adem√°s, los pa√≠ses con mayor√≠a musulmana presentan una distribuci√≥n m√°s dispersa, mientras que los pa√≠ses con mayor√≠a budista presentan una distribuci√≥n m√°s concentrada. La categor√≠a ‚Äúotros cristianos‚Äù presenta una distribuci√≥n m√°s dispersa, con dos picos.\n\n\nRaincloud Chart\nEl gr√°fico de raincloud resulta muy divertido. Combina un violin plot, un box plot y un scatter plot en un solo gr√°fico. Se llama as√≠, porque las curvas de densidad se asemejan a nubes y los puntos dispersos representados abajo parecen gotas de lluvia. Como en versiones anteriores que hemos elaborado m√°s arriba, tenemos una representaci√≥n sint√©tica (una curva que describe la densidad o el comportamiento de los datos) y unos puntos que representa la posici√≥n aproximada de cada observaci√≥n. En el siguiente gr√°fico, creamos un raincloud para la variable pop_65_older (poblaci√≥n de 65 a√±os o m√°s) agrupada por el nivel de democracia de los pa√≠ses.\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\nlibrary(ggridges)\n\n# Creamos el gr√°fico, los datos son w, y las\n# variables: y=dem_level4 y x=pop_65_older,\n# el color es fill=dem_level4\np &lt;- ggplot(w,\n       aes(y = dem_level4, \n           x = pop_65_older, \n           fill = dem_level4)) \n\n# Ahora adiciona la geometr√≠a, \n# que incorpora los pujntos y\n# las l√≠neas que identifica los\n# cuartiles\np &lt;- p + geom_density_ridges(\n              jittered_points = TRUE,\n              position = \"raincloud\",\n              alpha=0.6,                            \n              quantile_lines = TRUE)\n\n# Visualiza el resultado\np"
  },
  {
    "objectID": "tipos.html#asociaci√≥n-o-correlaci√≥n",
    "href": "tipos.html#asociaci√≥n-o-correlaci√≥n",
    "title": "Tiposde gr√°fico",
    "section": "Asociaci√≥n o correlaci√≥n",
    "text": "Asociaci√≥n o correlaci√≥n\n\nDiagrama de dispersi√≥n\n\n\nCorrelograma\n\n\nCode\nlibrary(ggcorrplot)\n\nvar &lt;- c(\"gini10\",\"dem_score14\",\n         \"literacy\",\"lifeex_total\",\n         \"hdi\",\"pop_urban\",\"frac_eth\",\n         \"gdppcap08\")\n\ncorr &lt;- round(cor(w[,var], \n                  use=\"pairwise.complete.obs\"), \n              3)\n\nggcorrplot(corr, \n           lab_size = 3,\n           show.diag = F,\n           hc.order = T,\n           lab=T)"
  },
  {
    "objectID": "tipos.html#conexi√≥n",
    "href": "tipos.html#conexi√≥n",
    "title": "Tiposde gr√°fico",
    "section": "Conexi√≥n",
    "text": "Conexi√≥n\n\nRed\n\n\nCode\ndi &lt;- read.delim(\"https://www.dropbox.com/s/r8309gzg3rymajr/Visitas_Dilma_redux.csv?dl=1\", \n                 sep=\";\", \n                 dec=\",\")\n\ndi &lt;- unique(di[,c(\"NOM_O\",\"NOM_D\",\"FREQ\",\"VISITS\")])\n\nnames(di) &lt;- c(\"Origin\",\"Destination\",\"Travels\",\"Visits\")\n\n\n# Carga los paquetes\nlibrary(ggplot2)\nlibrary(ggnetwork)\n\n# Convierte la base de datos\n# en un layout de red\nn &lt;- ggnetwork(di)\n\n# Crea la red solo con los\n# v√≠nculos (edges)\np &lt;- ggplot(n, \n       aes(x = x, \n           y = y, \n           xend = xend, \n           yend = yend)) +\n  geom_edges(aes(size=Travels),\n             color = \"red3\", \n             alpha=0.1,           \n             curvature = 0.25)    \n\n# Ahora, a√±ade los nodos (puntos)\n# a la red anterior\np &lt;- p + geom_nodes(aes(size=Visits), \n            color=\"red3\")\n\n# Adiciona los nombres de las ciudades\np &lt;- p + geom_nodetext_repel(\n  aes(\n    label = vertex.names))\n\n# Elimina el tema y la leyenda\np &lt;- p + theme_blank() +\n         theme(legend.position = \"none\")\n\n# Visualiza los resultados\np"
  },
  {
    "objectID": "tipos.html#tiempo-flujo",
    "href": "tipos.html#tiempo-flujo",
    "title": "Tiposde gr√°fico",
    "section": "Tiempo / Flujo",
    "text": "Tiempo / Flujo\n\nL√≠nea\n\n\nCode\n# Prepara el gr√°fico\np &lt;- ggplot(br, \n            aes(x=Year, y=Gini))+\n      geom_line()\n\n# Visualiza los resultados\np\n\n\n\n\n\n\n\nConnected scatterplot\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\nlibrary(ggrepel)\n\n# Crea el gr√°fico\np &lt;- ggplot(brs, \n            aes(x=Year, \n                y=Gini,\n                fill=Administration))\n\n# A√±ade segmentos de l√≠nea para\n# cada gobierno\np &lt;- p + geom_segment(\n                      aes(x=x1,\n                          xend=xend,\n                          y=y1,\n                          yend=yend,\n                          color=Administration))\n\n\n# Visualiza los resultados\np\n\n\n\n\n\n\n\nArea\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\n\n# Prepara el gr√°fico\np &lt;- ggplot(br, \n            aes(y=Growth, \n                x=Gini))+\n      geom_area(fill=\"darkgreen\")\n\n\n# Visualiza los resultados\np\n\n\n\n\n\n\n\nDumbbell\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\n\n# Obtiene el orden de los pa√≠ses seg√∫n\n# la proporci√≥n de riqueza apropiada por\n# los 10% m√°s ricos (de los m√°s a los menos).\nlevels &lt;- lat[\n              order(\n                lat$Share[lat$Year==2000], \n                decreasing = T),\n              c(\"Country\")]\n\n# Reordena la base de datos seg√∫n los niveles\n# obtenidos (esto es importante para que el \n# gr√°fico salga bonito y f√°cil de interpretar)\nlat$Country &lt;- factor(lat$Country, levels=levels)\n\n# Genera el gr√°fico\np &lt;- ggplot(lat,\n            aes(y=Country, \n                x=Share))\n\n# Adiciona los segmentos de l√≠nea\n# conectando cada per√≠odo\np &lt;- p + geom_line(color=\"grey85\")\n\n# A√±ade puntos y los colorea de\n# acuerdo al a√±o (Year)\np &lt;- p + geom_point(aes(color=Year))\n\n# Visualiza los resultados\np\n\n\n\n\n\n\n\nMapa\n\n\nCode\n# Carga los paquetes\nlibrary(ggthemes)\nlibrary(ggplot2)\nlibrary(sf)\n\n# Carga los datos de\n# los condados de Carolina \n# del Norte\nnc &lt;- st_read(system.file(\"shape/nc.shp\", \n                          package = \"sf\"), \n              quiet = TRUE)\n\n# Crea el gr√°fico y lo colorea\n# seg√∫n el √°rea\ngg &lt;- ggplot(nc) +\n  geom_sf(aes(fill = AREA))\n  \n# Visualiza los resultados  \ngg"
  }
]