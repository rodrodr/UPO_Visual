[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n\nCode\n1 + 1\n\n\n[1] 2"
  },
  {
    "objectID": "basico.html",
    "href": "basico.html",
    "title": "Fundamentosde visualización de datos",
    "section": "",
    "text": "El documental de PBS “El arte de la visualización de datos” resulta muy informativo sobre la importancia de la visualización de datos:\n\n\nTodos los días vemos cómo se manipula la información para intentar convencer a la gente. Los gráficos no se quedan fuera de esa tendencia. El corto video abajo nos muestra algunas de las estrategias más comunes para descubrir intentos de mentir con gráficos:"
  },
  {
    "objectID": "basico.html#por-qué-visualizar-datos",
    "href": "basico.html#por-qué-visualizar-datos",
    "title": "Fundamentosde visualización de datos",
    "section": "",
    "text": "El documental de PBS “El arte de la visualización de datos” resulta muy informativo sobre la importancia de la visualización de datos:\n\n\nTodos los días vemos cómo se manipula la información para intentar convencer a la gente. Los gráficos no se quedan fuera de esa tendencia. El corto video abajo nos muestra algunas de las estrategias más comunes para descubrir intentos de mentir con gráficos:"
  },
  {
    "objectID": "basico.html#qué-es-la-visualización-de-datos",
    "href": "basico.html#qué-es-la-visualización-de-datos",
    "title": "Fundamentosde visualización de datos",
    "section": "¿Qué es la visualización de datos?",
    "text": "¿Qué es la visualización de datos?\nLa visualización de datos es una forma de comunicar información de manera efectiva utilizando elementos visuales como gráficos, mapas y tablas. Se trata de una parte esencial del trabajo científico, puesto que representa tanto una herramienta de análisis como un instrumento de comunicación de los resultados.\nDentro de los ámbitos científicos, los gráficos se consideran como parte del proceso de exploración de datos. Resultan muy útiles para descubrir patrones, validar la calidad de los datos y entender procesos que serían más difíciles de entender si se presentaran en forma de tablas o texto.\nMás recientemente, su uso se ha extendido a la comunicación de resultados y a la divulgación científica, ya que permiten presentar de manera clara y efectiva los hallazgos de un análisis de datos tanto a expertos como a un público no especializado."
  },
  {
    "objectID": "basico.html#por-qué-es-importante-la-visualización-de-datos",
    "href": "basico.html#por-qué-es-importante-la-visualización-de-datos",
    "title": "Fundamentosde visualización de datos",
    "section": "¿Por qué es importante la visualización de datos?",
    "text": "¿Por qué es importante la visualización de datos?\nTomemos como ejemplo, el gráfico “Warming Stripes”, creado por Edward Hakwings en 2018 para representar los cambios en las temperaturas medias anuales entre 1850 y 2017.\n \nEste gráfico se ha convertido en un símbolo de la lucha contra el cambio climático y ha sido utilizado por organizaciones como la ONU y la NASA para concienciar sobre el problema. ¿Por qué? Examinemos algunos elementos que hacen este gráfico tan efectivo:\n\nSimplicidad: El gráfico es simple y fácil de entender. No hay elementos de distracción, comentarios o decoraciones indeseadas, ni siquiera hace falta una escala informando qué se mide. Por solo mirarlo, ya nos damos cuenta de que se trata de una secuencia lineal de temperatura. Aquí, la regla de “menos es más” se afirma con mucha potencia.\nEl uso del color: El uso del color es muy efectivo. El color azul representa temperaturas más bajas, mientras que el rojo representa temperaturas más altas. La elección de estos colores es muy acertada, ya que el azul y el rojo son colores que se asocian comúnmente con el frío y el calor. Por lo tanto, no hace falta una leyenda para explicar qué representa cada barra.\nEl uso de la escala: Por tratarse de cambios (y no de valores absolutos), la variación entre las observaciones aumenta, lo que facilita la visualización de un patrón claro e inequívoco de calentamiento global.\n\nEn resumen, aunque siempre haya habido grupos contrarios a la tesis del calentamiento global, a partir de la creación de esta visualización, cualquiera que quiera argumentar en contra tendrá mucha mayor dificultad en hacerlo y necesitará argumentos muy convincentes para disuadir a la gente.\nTeniendo en mente el ejemplo anterior, podemos decir que la visualización de datos es importante por varias razones:\n\nFacilita la comprensión de los datos: Los gráficos y las visualizaciones permiten comprender mejor los datos y descubrir patrones y relaciones que serían difíciles de detectar de otra manera. Es cada vez más común trabajar con una cantidad enorme de datos que serían inabarcables sin estrategias heurísticas que posibilitaran su síntesis de manera efectiva. Los gráficos son una de las formas de abstracción más poderosas. Vemos que se trata de un gráfico muy fácil de leer.\nFacilita la comunicación de resultados: Los gráficos y las visualizaciones permiten comunicar de manera clara los resultados de un análisis de datos a expertos y a un público no especializado. No hace falta ser un experto en climatología para entender que las barras rojas son cada vez más largas y que eso significa que las temperaturas están aumentando. Personas con muy distintos niveles educativos pueden entender el mensaje.\nFacilita la toma de decisiones: Los gráficos y las visualizaciones permiten tomar decisiones informadas basadas en datos y evidencia. El gráfico de las barras de temperatura deja claro que tenemos un problema y que hace falta tomar cartas en el asunto, pues el crecimiento parece ser exponencial.\nFacilita la identificación de problemas: Los gráficos y las visualizaciones permiten identificar problemas y errores en los datos, como valores atípicos y datos faltantes.\nFacilita la identificación de oportunidades: Los gráficos y las visualizaciones permiten identificar oportunidades y tendencias que pueden ser aprovechadas para mejorar los procesos y los resultados.\n\n\nPor lo tanto, no hace falta tener un super gráfico lleno de parafernalia y “cachibaches” para comunicar efectivamente un mensaje. La simplicidad y la claridad son las claves para una visualización efectiva."
  },
  {
    "objectID": "basico.html#reglas-básicas",
    "href": "basico.html#reglas-básicas",
    "title": "Fundamentosde visualización de datos",
    "section": "Reglas básicas",
    "text": "Reglas básicas\nExiste un conjunto de reglas básicas que nos ayudan a la hora de crear visualizaciones de alta calidad. Si uno se adhiere a estos principios básicos, es mucho más probable que sea capaz de comunicar de manera efectiva la información que se desea transmitir.\n\nTenga una historia que contar o buscar\nYa sé que parece discurso de vendedor de autos usados o de conferenciante de las charlas TED, pero es cierto. ¿Por qué el gráfico es importante? ¿Qué pretende descubrir o revelar? No es necesario que sea una historia compleja o sumamente elaborada, sino que sea clara, fácil de entender y, sobre todo, que importe a la gente. Y para que importe a la gente, debes saber a qué gente te diriges, aunque, a veces, uno termina sorprendiéndose de la diversidad de personas que se interesan por un tema.\nEn 2018, terminadas las elecciones presidenciales de Brasil en las que ganó Jair Bolsonaro, empezó una discusión en los medios y las redes sociales sobre cuál habría sido el apoyo efectivo del tercer candidato en la disputa, Ciro Gomes, al candidato del Partido de los Trabajadores (PT), Fernando Haddad, en la segunda vuelta de los comicios. Muchos apoyadores del PT decían que Ciro Gomes había sido el responsable de la derrota de Haddad, mientras que otros decían que no había sido así. Entonces, he decidido aplicar una técnica de inferencia ecológica, que intenta descubrir patrones a partir de datos agregados, para ver si podía descubrir algo.\nPara casa mesa, he calculado la cantidad de votos que se habrían transferidos de unos a otros. Con esas informaciones, podía estimar cuál proporción de votos de cada candidato se transfería a otros, los blancos y nulos y las abstenciones. Con esos datos, he creado el siguiente gráfico cordas que revela la transferencia estimada de votos entre candidatos:\n\nEn la izquierda del gráfico vemos la red completa de transferencias, con los candidatos derrotados en la primera vuelta en la izquierda y las opciones de voto en la segunda vuelta a la derecha. En la derecha de la imagen, vemos la transferencia de cada candidato por separado. He decidido separar cada uno de ellos para facilitar la visualización de los patrones.\nVemos que las secciones electorales que votaron en mayor medida a Ciro Gomes han sido las únicas que inequívocamente han transferido votos a Fernando Haddad. Los patrones de los demás candidatos favorecen a Bolsonaro o son más complejos, sin una preferencia clara.\nAunque se tratara de una publicación privada en facebook, destinada solamente a mis amigos politólogos, en poco tiempo el gráfico se ha vuelto viral (infelizmente, sin la explicación metodológica que lo acompañaba). Muchos de los apoyadores de Ciro lo compartían y comentaban para contrarrestar las acusaciones de los del PT de que los “ciristas” habían votado nulo o apoyado a Bolsonaro. Este impacto inesperado solo fue posible porque el gráfico tenía una historia que contar y que importaba a la gente.\n\n\nQue tus datos sean de calidad\nEn la comunidad de análisis de datos en inglés, se suele emplear una expresión que me parece excelente para entender los problemas y virtudes de cualquier investigación o gráfico: “garbage in, garbage out” (algo en español como “aunque la mona se vista de seda, mona se queda” o quod natura non dat, Salmantica non praestat). Es decir, si no eres Moisés, no puedes sacar agua de piedra. Creo que las referencias populares nos quieren decir es: un análisis basado en datos de mala calidad no puede aportar nada de interesante. No resulta casual que la mayor parte del trabajo de investigación se dedique a la recolección y limpieza de datos y en las revisiones por pares se hace hincapié en la consistencia de los aspectos metodológicos. Tienen que ser interesantes y confiables para ser válidos.\n\n\n¡Esto son gráficos, no pinturas Rococó, señores!\nA mí, personalmente, me gusta el Rococó. Esos palacios decorados, esas pinturas de Fragonard o Watteau, todo muy bonito, un lujazo manifiesto en colores y formas. No obstante, un gráfico (al menos en un principio) no debería ser algo que recargue los sentidos. Obviamente, hay controversias y algunos diseñadores defienden la idea de que un gráfico es una forma de expresión visual más y, por lo tanto, puede asumir cualquier estilo estético que se desee.\nNo obstante, si queremos comunicar de forma rápida y efectiva a un público que no tiene tiempo ni busca una contemplación estética en nuestros gráficos, lo mejor es mantenerlos simples y claros. No es necesario que sean aburridos, pero sí que sean efectivos.\n¿Qué quiero decir simples y claros? Primero, que no se debe abusar de los colores, las formas y los elementos decorativos. Un gráfico debe ser fácil de leer y de entender. Si el lector tiene que esforzarse para entender lo que se quiere comunicar, es probable que no lo haga. Llenar los gráficos de elementos visuales vacíos de significado (para evitar el horror vacui) resultaría contraproducente. Eso no quiere decir que no se puedan emplear elementos estéticos para facilitar el entendimiento y causar una impresión placentera en los lectores. Como dijo Edward Tufte en el documental de la PBS, “el contenido siempre viene primero, la belleza naturalmente le seguirá”.\n\n\nHuye de las plantillas de Excel, SPSS, Stata o R\n¡Pero, tampoco nos pasemos de dejados! Si examinamos una muestra de publicaciones científicas en las ciencias sociales resulta impresionante ver el poco cuidado estético que se tiene con los gráficos. Aunque no es necesario que sean obras de arte, sí es importante que sean fáciles de leer y que aprovechen para informar lo mejor posible. No es necesario que sean muy elaborados, pero sí que sean claros, efectivos y atractivos.\nEn la mayoría de los casos, los autores simplemente copian y pegan los resultados de Excel, SPSS o Stata (incluso R) en sus documentos sin preocuparse por cómo el perfeccionamento de elementos visuales como el color, el tipo de fuente o la disposición de los símbolos puede mejorar la comprensión de los datos. Un gráfico atractivo, además de limpio y efectivo, resulta agradable y llama la atención por el placer estético que produce en el observador. También es una forma de demostrar cierto estilo o sofisticación en el trabajo de un autor. Es como su “marca” personal. Es la impresión que suelo tener cuando veo un gráfico de diseñadoras como Federica Fragapane, Giorgia Lupi o Nadieh Bremer.\nAtraer la atención del lector no es cosa menor. Tenemos a nuestra disposición miles de artículos y libros para leer, y si no logramos captar la atención del lector, es probable que nuestro trabajo no sea leído. Gráficos bien acabados revelan atención al detalle y preocupación por la calidad del trabajo que se lleva a cabo. Utilizando una analogía con la moda, sería como hacer una “operación bikini” y luego ir a la playa en chándal de andar por casa.\nNo digo que te conviertas en un diseñador para hacer un gráfico atractivo, pero sí es necesario tener en cuenta algunos principios básicos de diseño y visualización de datos. Existe una infinitud de manuales de visualización de datos con capítulos específicos sobre la elección de colores, fuentes, tamaños, formas, etc. Mi sugerencia es que consultéis algunas de esas obras para aprender los principios básicos, valerá mucho la pena (Brewer 2005; Healy 2019; Brewer, Hatchard, and Harrower 2003; Yau 2011, 2013; Tufte 2001; Cleveland 1993; Munzner 2014; Few 2004). Veréis que a partir de cierto momento se empiezan a repetir los mismos consejos y recomendaciones. En ese instante, ya tendrás lo suficiente para aplicar en tus propios gráficos.\n\n\n\n\n\n\n\n\n\nEn el gráfico anterior, he comparado tres gráficos realizados con plantillas de Excel, Stata y ggplot2 con uno hecho por mí. Aunque los tres primeros gráficos son correctos y cumplen con su función, pueden mejorar mucho.\nAñadimos dos variables más: urbanización para el tamaño y si se trata de un país de mayoría musulmana. Además, incorporamos un título en negrita, un subtítulo y una fuente. También hemos cambiado los colores y la posición de la leyenda y lo hemos convertido en una versión interactiva con un “tooltip” con los datos representados de forma detallada."
  },
  {
    "objectID": "gramatica.html#gráficos-por-capas",
    "href": "gramatica.html#gráficos-por-capas",
    "title": "Gramáticade los gráficos",
    "section": "Gráficos por capas",
    "text": "Gráficos por capas\nComo se puede ver en el vídeo, la mejor manera de pensar en la gramática de los gráficos es a partir de una estructura de capas superpuestas. La idea es muy sencilla: cada gráfico se construye a partir de una serie de capas que se van sumando una a una, de modo que uno puede ir añadiendo mayor sofisticación y complejidad en la medida que ya tiene resueltos los temas anteriores.\nCada capa de un gráfico es un componente independiente que se puede modificar y combinar con otras capas para crear un gráfico más complejo. La figura abajo nos brinda una representación visual de la gramática de los gráficos:\n\nEn la base se encuentra la capa de datos. Cualquier visualización depende fundamentalmente de la información que se desea comunicar. Esta capa condiciona todo lo que viene después: las geometrías que podemos emplear, las estadísticas, la capacidad de dividir en diferentes grupos, etc.\nImaginemos nuestra base de datos w con los datos de los países. Queremos crear un diagrama de dispersión para analizar la relación entre la esperanza de vida (lifeex_total) y el nivel de democracia (dem_score14). imaginemos que queremos contrastar esas dos variables con el IDH (hdi) y el nivel del PIB per cápita (gdpcap3_08). Nuestro gráfico solo se importará con esas variables y ninguna más, pues no las emplearemos.\n\n\nCode\n# Carga los datos\nlibrary(poliscidata)\n\n# Crea una base w a partir\n# de la original world\nw &lt;- world\n\n# Visualiza el nombre del país,\n# la esperanza de vida y el nivel\n# de democracia\nreactable(w[, c(\"country\", \"lifeex_total\", \"dem_score14\",\"hdi\",\"gdpcap3_08\")])\n\n\n\n\n\n\n\nEsta sería nuestra capa de datos. Tenemos cinco variables, dos en formato texto (factor) y dos numéricas: el nombre del país, la esperanza de vida, el nivel de democracia, el IDH y la desigualdad de género. Para crearla formalmente en R, debemos decir que la base de datos que vamos a emplear es la que se llama w en la función ggplot del paquete ggplot2.\n\n\nCode\n# Carga el paquete\nlibrary(ggplot2)\n\n# Crea la capa de datos \ng &lt;- ggplot(w)\n\n\nEste procedimiento crea un nuevo objeto llamado g (g de gráfico, pero podría ser cualquier otro nombre) que contiene solamente la indicación de que w es la capa de datos.\nLa siguiente capa es la de estética. En esta capa se definen las variables que se van a visualizar y cómo. También se refieren a ese nivel como el “mapeo” de las variables. En nuestro caso, queremos visualizar la esperanza de vida en el eje x y el nivel de democracia en el eje y. Ya tenemos para un gráfico de dispersión (scatterplot).\nNo obstante, también queremos que el tamaño de cada punto sea proporcional al IDH, siendo que los países con mayor desarrollo humano tendrán puntos más grandes y los de menos, más pequeños. Aprovechamos para definir que el color de los puntos corresponda al valor del nivel del PIB per cápita (Bajo, Mediano, Alto).\nPara crear la capa de estética en R, sería tan sencillo como “sumar” la definición de la estética a la capa de datos:\n\n\nCode\n# Añade una capa de estética\n# para la relación entre la esperanza\n# de vida y el nivel de democracia\n# con el IDH establecido como tamaño \n# y el PIB per cápita como color\ng &lt;- g + \n     aes(x=lifeex_total,\n         y=dem_score14,\n         size=hdi,\n         color=gdpcap3_08)\n\n# visualiza el gráfico\ng\n\n\n\n\n\n“¡Pero no veo nada más que el fondo y los ejes!” Claro que no. Estás en el backstage todavía. Solo dijiste al R que querías visualizar la esperanza de vida en el eje x, el nivel de democracia en el eje y, el tamaño de los puntos proporcional al IDH y el color de los puntos proporcional a la desigualdad de género. Pero no le dijiste cómo querías visualizarlo. Para ello necesitas definir que tipo de representación visual quieres: pueden ser puntos, líneas, barras, florecitas, avioncitos… ¿Cómo el R va a adivinar lo que Ud.? Eso es lo que viene a continuación.\nAñadiremos una capa de geometría, representada por la función geom_ seguida del tipo de geometría que queremos. En nuestro caso, queremos puntos, por lo que usaremos la función geom_point.\n\n\nCode\n# Añade la capa de geometría\n# que serán los puntos\ng &lt;- g + geom_point()\n\n# Visualiza el gráfico\ng\n\n\n\n\n\n\nAhora sí, ¡habemus gráfico! Hemos sumado a geometría de puntos a las capas anteriores de datos y estética. Pero, nos resultó un gráfico que da miedo (ya lidiaremos con eso más tarde).\nMuchos pararían aquí, pero desperdiciaríamos la oportunidad de hacer un gráfico más informativo. Todavía podemos añadir más capas y cambios a nuestra visualización para que sea más bonita e eficaz.\nImaginemos que nos gustaría separar los países según regiones. Para ello, necesitamos una nueva capa: la capa de facetas. En esta capa, se definen las variables que se van a utilizar para separar los datos en diferentes paneles. En nuestro caso, queremos separar los países por regiones.\nPara ello, empleamos la función facet_wrap y le decimos que queremos dividir los países por la variable regionun. La capa de facetas se vería así:\n\n\nCode\n# Añade la capa de facetas para\n# dividir el gráfico por regiones\ng &lt;- g + facet_wrap(~regionun)\n\n# Visualiza el gráfico\ng\n\n\n\n\n\nComo habéis visto, he ido añadiendo capas al gráfico y él estaba de lo más contento. Ahora quiero añadir alguna estadística chula que me permita visualizar mejor los resultados, como una elipse que circule los puntos de cada grupo de PIB per cápita. Lo hago por medio de una capa de estadística:\n\n\nCode\n# Añado la capa de estadística\ng &lt;- g + stat_ellipse()\n\n# visualizo el gráfico\ng\n\n\n\n\n\nYa tengo muchos decorados. Ahora toca cambiar un poco la representación jugando con la capa de coordenadas.\n\n\nCode\n# Cambia las coordenadas\n# a polares\ng &lt;- g + coord_polar()\n\n# Visualiza el gráfico\ng\n\n\n\n\n\n¿Demasiado liado para ti? Para mi también. Mi experimento no ha sido muy exitoso. No hay problema, volvemos al tipo de coordenadas anterior:\n\n\nCode\n# Superpone las coordenadas \n# cartesianas a las anteriores\ng &lt;- g + coord_cartesian()\n\n# Visualiza el gráfico\ng\n\n\n\n\n\nEsto nos advierte también que la estructura de capas no resulta obligatoria. Las únicas capas que son estrictamente necesarias son la de datos, estética y geometría. Las demás son opcionales y pueden ser añadidas o quitadas según la necesidad.\nAhora nos toca mejorar la apariencia del gráfico. Para ello, añadiemos una capa de tema. En esta capa, se definen los elementos que se van a utilizar para mejorar la apariencia del gráfico. Necesitamos quitar ese fondo feo, cambiar los colores, añadir un título, cambiar el nombre de los ejes, etc. Hagamoslo:\n\n\nCode\n# Añadimos un tema pre programado\n# para quitar elementos indesejables\ng &lt;- g + theme_classic()\n\n# Cambiamos el color\ng &lt;- g + scale_color_manual(\n                values=c(\"red3\",\n                         \"orange\",\n                         \"blue\"))\n\n# Añadimos un título y cambiamos\n# los nombres de los ejes\ng &lt;- g + labs(title=\"Relación entre esperanza de vida y nivel de democracia\",\n              x=\"Esperanza de vida\",\n              y=\"Nivel de democracia\")\n\n# Cambiamos el título de las\n# leyendas\ng &lt;- g + guides(\n            color = guide_legend(title=\"PIB per cápita\"),\n            size = guide_legend(title=\"IDH\")\n            )\n\n# Aumentamos el tamaño del título\ng &lt;- g + theme(plot.title = \n                 element_text(size=16, \n                              face=\"bold\")) \n\n# Visualizamos el gráfico\ng"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "VisualizaRVisualización de datos en R",
    "section": "",
    "text": "Esta página web forma parte del curso “Análisis de textos literarios con R”. En ella, se recogen los materiales y ejemplos que se desarrollarán durante las sesiones."
  },
  {
    "objectID": "index.html#el-curso",
    "href": "index.html#el-curso",
    "title": "VisualizaRVisualización de datos en R",
    "section": "",
    "text": "Esta página web forma parte del curso “Análisis de textos literarios con R”. En ella, se recogen los materiales y ejemplos que se desarrollarán durante las sesiones."
  },
  {
    "objectID": "index.html#el-profesor",
    "href": "index.html#el-profesor",
    "title": "VisualizaRVisualización de datos en R",
    "section": "El profesor",
    "text": "El profesor\nRodrigo Rodrigues-Silveira \nrodrodr@usal.es\nProfesor de ciencia política de la USAL. Actualmente, en estancia de recualificación en la UPO (hasta agosto de 2024). Director del proyecto “Comportamiento legislativo y erosión democrática en América Latina” (PELA Comportamiento)."
  },
  {
    "objectID": "index.html#el-contenido",
    "href": "index.html#el-contenido",
    "title": "VisualizaRVisualización de datos en R",
    "section": "El contenido",
    "text": "El contenido\nDurante el curso se abordarán los siguientes temas:\n\nIntroducción a la gramática de los gráficos\nDistintos tipos de gráficos\nGráficos y tipos de datos\nTemas y presentación visual de los gráficos\nGráficos interactivos en R"
  },
  {
    "objectID": "index.html#sesiones",
    "href": "index.html#sesiones",
    "title": "VisualizaRVisualización de datos en R",
    "section": "Sesiones",
    "text": "Sesiones\nLas sesiones tendrán lugar tanto en el Edificio 10, Aula de Informática 1 del campus de la Universidad Pablo de Olavide como en el etéreo espacio de la nube, por medio de la plataforma Blackboard. Los enlaces de acceso a las sesiones se enviarán a los correos electrónicos de los participantes.\nDÍA 1 - 03/06/2024 de 10 a 13h\nDÍA 2 - 05/06/2024 de 10 a 13h\nDÍA 3 - 06/06/2024 de 10 a 13h"
  },
  {
    "objectID": "index.html#servicio-técnico",
    "href": "index.html#servicio-técnico",
    "title": "VisualizaRVisualización de datos en R",
    "section": "🤖 Servicio técnico 🤖",
    "text": "🤖 Servicio técnico 🤖\nPara que podáis reproducir los ejemplos de análisis presentados durante el curso debéis instalar en vuestros ordenadores el R y el RStudio Desktop.\nTambién debéis ejecutar el siguiente código en R que instala los paquetes necesarios:\n\n\nCode\n# Crea un vector con los paquetes a instalar\npc &lt;- c(\"ggplot2\",\"ggthemes\",\"ggrepel\",\"ggdist\",\n        \"ggiraph\",\"giraphExtra\",\"ggridges\",\"dplyr\",\n        \"vdemdata\",\"sf\",\"cowplot\",\"poliscidata\",\n        \"treemap\",\"treemapify\",\"plotly\",\"networkD3\",\n        \"gapminder\",\"patchwork\",\"ggcorrplot\",\n        \"ggnetwork\",\"ggridges\",\"ggbeeswarm\",\n        \"netrankr\",\"igraph\",\"reactable\")\n\n# Instala los paquetes\ninstall.packages(pc)\n\n# Instala el paquete tenet que no está en CRAN\n# (si ya no lo habéis instalado en el curso \n# anterior de introducción al R)\ndevtools::install_github(\"rodrodr/tenet\", force=T)"
  },
  {
    "objectID": "interactivo.html#ggiraph",
    "href": "interactivo.html#ggiraph",
    "title": "Interactividaden los gráficos",
    "section": "ggiraph",
    "text": "ggiraph\nasas\n\n\nCode\nlibrary(poliscidata)\n\nw &lt;- world\n\n# Crea un tooltip con algunos datos\n# del país\nw$tooltip_text &lt;- paste0(\"&lt;strong&gt;\", w$country, \"&lt;/strong&gt;&lt;br&gt;\",\n                         \"&lt;strong&gt;Esperanza de vida:&lt;/strong&gt; \",\n                         w$lifeex_total,\n                         \"&lt;br&gt;&lt;strong&gt;Democracia:&lt;/strong&gt; \",\n                         w$dem_score14)\n\n\nlibrary(ggthemes)\nlibrary(ggplot2)\nlibrary(ggiraph)\n\n# Capa de datos\np &lt;- ggplot(w)\n\n# Añade la capa de estética\np &lt;- p +\n   aes(x = lifeex_total, \n       y = dem_score14,\n       data_id=regionun)\n\n# Añade la capa geométrica interactiva\np &lt;- p + geom_point_interactive(\n              aes(tooltip = tooltip_text)\n              )\n\n# Visualiza el gráfico interactivo\nx &lt;- girafe(ggobj = p, \n            options = \n              list(\n                opts_hover_inv(css = \"opacity:0.1;\")\n              )\n            )\n\nx\n\n\n\n\n\n\n\n\nCode\nlibrary(ggthemes)\nlibrary(ggplot2)\nlibrary(ggiraph)\n\n\nnc &lt;- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)\n\n\ngg &lt;- ggplot(nc) +\n  geom_sf_interactive(aes(fill = AREA, tooltip = NAME, data_id = NAME))+\n  theme_map()+\n  theme(legend.position = \"none\")+\n  scale_fill_continuous_tableau(palette=\"Purple\")\n  \n  \nx &lt;- girafe(ggobj = gg, \n            options = \n              list(\n                opts_hover(css = ''), \n                opts_hover_inv(css = \"opacity:0.1;\")\n    )\n  )\n\nx"
  },
  {
    "objectID": "interactivo.html#plotly",
    "href": "interactivo.html#plotly",
    "title": "Interactividaden los gráficos",
    "section": "plotly",
    "text": "plotly\n\n\nCode\nlibrary(plotly)\nlibrary(ggplot2)\n\n# Capa de datos\np &lt;- ggplot(w)\n\n# Añade la capa de estética\np &lt;- p +\n   aes(x = lifeex_total, \n       y = dem_score14,\n       fill=regionun)\n\n# Añade la capa geométrica\np &lt;- p + geom_point(color=\"transparent\")\n\nggplotly(p)"
  },
  {
    "objectID": "interactivo.html#visnetwork",
    "href": "interactivo.html#visnetwork",
    "title": "Interactividaden los gráficos",
    "section": "Visnetwork",
    "text": "Visnetwork"
  },
  {
    "objectID": "interactivo.html#tenet",
    "href": "interactivo.html#tenet",
    "title": "Interactividaden los gráficos",
    "section": "tenet",
    "text": "tenet"
  },
  {
    "objectID": "interactivo.html#otros-paquetes",
    "href": "interactivo.html#otros-paquetes",
    "title": "Interactividaden los gráficos",
    "section": "Otros paquetes",
    "text": "Otros paquetes\nNetworkD3\nleaflet\ntmap"
  },
  {
    "objectID": "personalizacion.html#personalización-de-los-gráficos",
    "href": "personalizacion.html#personalización-de-los-gráficos",
    "title": "AparienciaPersonalización y temas",
    "section": "Personalización de los gráficos",
    "text": "Personalización de los gráficos\n\nColores\naa\n\n\nFormas y símbolos\naa\n\n\nTítulos y etiquetas\naa"
  },
  {
    "objectID": "personalizacion.html#temas",
    "href": "personalizacion.html#temas",
    "title": "AparienciaPersonalización y temas",
    "section": "Temas",
    "text": "Temas\n\nTemas predefinidos\naa\n\n\nPersonalización de los temas\naa"
  },
  {
    "objectID": "recursos.html",
    "href": "recursos.html",
    "title": "Recursos útiles para la visualización de datos",
    "section": "",
    "text": "Existen muchos proyectos que nos ayudan a crear visualizaciones de datos hermosas y efectivas. Algunos de ellos son recursos extremadamente útiles y repositorios de código disponibles para nosotros.\n\n\nLa página web Dataviz inspiration provee hermosos gráficos e historias de datos. Estos ejemplos curados nos ayudan a visualizar el potencial completo de la visualización de datos y a obtener algunas ideas que podemos usar para nuestros propios análisis. Uno de los ejemplos sobresalientes es Ailing Brussels, un análisis de la desigualdad en Bruselas por la revista belga de investigación Medór. El proyecto emplea mapas, gráficos, animación y una narrativa convincente a través de imágenes, textos y videos para describir la división espacial de Bruselas en cuanto a oportunidades y niveles de precariedad.\n\n\n\n\n\nVisite ambos sitios, Dataviz Inspirations y Ailing Brussels, para tener una maravillosa experiencia de las posibilidades de la visualización de datos.\n\n\n\nEl segundo recurso es el Proyecto Data to Viz. Es el resultado de un gran esfuerzo de sistematización. Yan Holtz, el creador, organizó gráficos según el tipo de datos o el tipo de análisis. Cada gráfico tiene su propia página explicando cómo y en qué ocasión se debe usar o evitar. También proporciona acceso a R Graph Gallery con código detallado que muestra cómo replicarlo en R.\n\n\n\n\n\n\n\n\nComo se mencionó anteriormente, esta página web es un repositorio que contiene código para que los usuarios reproduzcan muchos tipos diferentes de gráficos en R. ¿Cómo puedo hacer un gráfico de dispersión en R? Mire la galería y lo descubrirá. ¿Y un gráfico de barras? Lo mismo. Este es un lugar obligatorio para buscar cuando se aprende visualización de datos."
  },
  {
    "objectID": "recursos.html#introducción",
    "href": "recursos.html#introducción",
    "title": "Recursos útiles para la visualización de datos",
    "section": "",
    "text": "Existen muchos proyectos que nos ayudan a crear visualizaciones de datos hermosas y efectivas. Algunos de ellos son recursos extremadamente útiles y repositorios de código disponibles para nosotros.\n\n\nLa página web Dataviz inspiration provee hermosos gráficos e historias de datos. Estos ejemplos curados nos ayudan a visualizar el potencial completo de la visualización de datos y a obtener algunas ideas que podemos usar para nuestros propios análisis. Uno de los ejemplos sobresalientes es Ailing Brussels, un análisis de la desigualdad en Bruselas por la revista belga de investigación Medór. El proyecto emplea mapas, gráficos, animación y una narrativa convincente a través de imágenes, textos y videos para describir la división espacial de Bruselas en cuanto a oportunidades y niveles de precariedad.\n\n\n\n\n\nVisite ambos sitios, Dataviz Inspirations y Ailing Brussels, para tener una maravillosa experiencia de las posibilidades de la visualización de datos.\n\n\n\nEl segundo recurso es el Proyecto Data to Viz. Es el resultado de un gran esfuerzo de sistematización. Yan Holtz, el creador, organizó gráficos según el tipo de datos o el tipo de análisis. Cada gráfico tiene su propia página explicando cómo y en qué ocasión se debe usar o evitar. También proporciona acceso a R Graph Gallery con código detallado que muestra cómo replicarlo en R.\n\n\n\n\n\n\n\n\nComo se mencionó anteriormente, esta página web es un repositorio que contiene código para que los usuarios reproduzcan muchos tipos diferentes de gráficos en R. ¿Cómo puedo hacer un gráfico de dispersión en R? Mire la galería y lo descubrirá. ¿Y un gráfico de barras? Lo mismo. Este es un lugar obligatorio para buscar cuando se aprende visualización de datos."
  },
  {
    "objectID": "recursos.html#proyectos-hermosos",
    "href": "recursos.html#proyectos-hermosos",
    "title": "Recursos útiles para la visualización de datos",
    "section": "Proyectos hermosos",
    "text": "Proyectos hermosos\nEn esta sección, presentamos algunos proyectos que nos inspiran y nos muestran cómo la visualización de datos puede ser hermosa y efectiva.\n\nDear Data\nSe trata de un proyecto de dos diseñadoras, Giorgia Lupi y Stefanie Posavec, que consiste en enviar postales semanales con datos personales dibujados a mano. Cada semana, durante un año, las dos diseñadoras recopilaron datos sobre sus vidas cotidianas y los representaron en postales. El proyecto resultante es una colección de visualizaciones de datos dibujadas a mano que revelan la belleza de los datos y la creatividad de las diseñadoras. El proyecto también se convirtió en un libro, Dear Data, que recopila las postales y las visualizaciones de datos.\nUn breve video explicando el proyecto:\n\nLa metodología empleada explicada con más detalle:\n\n\n\n\nEspaña vive en pisos (El Diario.es)\nEste proyecto de El Diario.es es un ejemplo de cómo la visualización de datos puede ser utilizada para contar historias complejas. El proyecto visualiza la distribución de la población en España y cómo la mayoría de la gente vive en pisos. La visualización combina mapas, gráficos y narrativa para contar la historia de cómo la mayoría de la gente en España vive en pisos y cómo esto afecta a la calidad de vida y la desigualdad en el país.\nNo se trata de la única visualización premiada. A día de hoy, el periódico posee el equipo de periodismo de datos más destacado de España y uno de los más reconocidos a nivel internacional.\n\n\n\n\n\n\n\nEl Atlas de los ODS\nEl Atlas de los Objetivos de Desarrollo Sostenible (ODS) es un proyecto de la División de Datos del Banco Mundial que visualiza los datos de los ODS en un formato interactivo y accesible. El Atlas proporciona visualizaciones de datos sobre los 17 ODS y los 169 objetivos específicos de los ODS. Los datos se presentan en mapas, gráficos y tablas interactivas que permiten a los usuarios explorar los datos y comparar los indicadores de los ODS en diferentes países y regiones. El Atlas es una herramienta valiosa para los responsables de la toma de decisiones, los investigadores y el público en general que deseen comprender mejor los desafíos y las oportunidades relacionados con los ODS.\n\n\n\n\n\n\n\nPoppy field\nValentina D’Fillipo creó una visualización para conmemorar el centenario de la Primera Guerra Mundial. La visualización muestra la cantidad de soldados que murieron en las guerras ocurridas durante el período comprendido entre 1914 y 2014, representados por amapolas. La visualización es interactiva y permite a los usuarios explorar la cantidad de soldados que murieron en cada país y en cada año en las distintas guerras. La visualización es hermosa y efectiva, y nos recuerda la importancia de la visualización de datos para contar historias y evitar el olvido de eventos históricos importantes.\n\n\n\n\n\n\n\nVisual Cinnamon\nVisual Cinnamon es la página personal de la diseñadora visual Nadieh Bremer. Se trata de una fuente de inspiración para cualquier persona interesada en la visualización de datos. Nadieh es conocida por su estilo único y su habilidad para combinar datos y diseño de una manera hermosa y efectiva. Su portafolio incluye visualizaciones de datos sobre temas como la música, la astronomía y la historia.\nAlgunos ejemplos de su trabajo que me gustan particularmente:\n\nPatrimonio cultural intangible (UNESCO)\nSe trata de una visualización interactiva que muestra el patrimonio cultural intangible de la UNESCO. Incorpora diversos tipos de gráfico y nos permite sacar ideas de qué podemos hacer con diferentes tipos de dato.\n\n\n\n\n\n\n\n¿Por qué los gatos y perros…? (Google)\nEn esta visualización, Nadieh explora las preguntas más comunes sobre gatos y perros en Google. Nos recuerda la estructura jerárquica del lenguaje y cómo podemos representar las alternativas variantes de forma visualmente impactante y efectiva."
  },
  {
    "objectID": "tipos.html",
    "href": "tipos.html",
    "title": "Tiposde gráfico",
    "section": "",
    "text": "En esta parte del curso examinaremos algunos de los tipos más comunes de gráfico. Los organizaremos según el tipo de análisis que se desea realizar con ellos. Por ejemplo, si queremos saber si una variable cuantitativa afecta otra igual, realizamos un gráfico de dispersión o un correlograma. si el objetivo es saber la frecuencia de una variable categórica, un gráfico de barras puede ser la mejor opción."
  },
  {
    "objectID": "tipos.html#introducción",
    "href": "tipos.html#introducción",
    "title": "Tiposde gráfico",
    "section": "",
    "text": "En esta parte del curso examinaremos algunos de los tipos más comunes de gráfico. Los organizaremos según el tipo de análisis que se desea realizar con ellos. Por ejemplo, si queremos saber si una variable cuantitativa afecta otra igual, realizamos un gráfico de dispersión o un correlograma. si el objetivo es saber la frecuencia de una variable categórica, un gráfico de barras puede ser la mejor opción."
  },
  {
    "objectID": "tipos.html#tipos-de-dato-y-tipos-de-gráficos",
    "href": "tipos.html#tipos-de-dato-y-tipos-de-gráficos",
    "title": "Tiposde gráfico",
    "section": "Tipos de dato y tipos de gráficos",
    "text": "Tipos de dato y tipos de gráficos\nCada tipo de gráfico suele corresponder a un tipo de dato o a una combinación entre tipos de dato. Por esa razón, resulta útil conocer la clasificación de los gráficos según los diferentes tipos de información para sacar los mejores resultados.\nLa página from Data to Viz resulta muy útil, pues ofrece una doble clasificación de los datos: por tipo de dato y el tipo de representación que se desea realizar. Recomiendo fuertemente que la estudiéis con detenimiento para tener una idea general de qué opciones tenéis. Luego, podréis regresar a la página para refrescar los conceptos y encontrar ejemplos, así como los códigos. Se trata de una herramienta muy útil a la hora de elegir el tipo de visualización que queremos para nuestros datos."
  },
  {
    "objectID": "tipos.html#distribución",
    "href": "tipos.html#distribución",
    "title": "Tiposde gráfico",
    "section": "Distribución",
    "text": "Distribución\nLos gráficos de distribución son útiles para entender cómo se distribuyen los datos. ¿Cuál categoría es la más frecuente? ¿Los votos en un partido X en las mesas de Sevilla se encuentran concentrados alrededor de la media o varían mucho? Las visualizaciones de este apartado ayudan a responder a dichas preguntas. En este grupo se encuentran los histogramas, los gráficos de densidad, los diagramas de caja (boxplots) o los de violín (violin).\n\nGráficos de barras\nEl gráfico de barras es uno de los más comunes y útiles. Se utiliza para representar la frecuencia de una variable categórica. Por ejemplo, si queremos saber cuántos votos ha obtenido cada partido en una elección, un gráfico de barras es la mejor opción. Esto nos permite comparar los valores y sacar conclusiones y patrones a partir de ellos.\nEl código abajo crea un gráfico de barra para la variable pot_policy de la base de datos de los estados de EE. UU. La variable pot_policy representa la política relacionada a la legalización de la marijuana dominante en cada estado.\nAdemás, para no aburrirnos, también vamos a crear un gráfico de barras polar. Este tipo de gráfico es útil cuando queremos comparar la frecuencia de una variable categórica en un círculo. En este caso, la variable pot_policy se encuentra en el eje x y el eje y representa la frecuencia de cada categoría. Como veréis, se trata del mismo gráfico. Lo único que cambia es el sistema de coordenadas.\n\n\nCode\n# Carga los datos\nlibrary(poliscidata)\n\n# Crea un data.frame d\n# con los datos de los estados\nd &lt;- states\n\n\n# reordena de modo decreciente de \n# la frecuencia\nd$pot_policy &lt;- reorder(\n                       d$pot_policy, \n                       d$pot_policy, \n                       function(x) -length(x))\n\n#\nlibrary(ggplot2)\n\n# 1) Crea la capa de datos\np &lt;- ggplot(data = d)\n\n# 2 ) Añade la capa de estética\np &lt;- p + aes(x=pot_policy) \n\n# 3) Añade la capa de geometría\np &lt;- p + geom_bar()\n\n# Visualiza el gráfico\np\n\n\n\n\n\nCode\n# 4) Añade la capa de coordenadas \n# (en este caso polares)\np + coord_polar()\n\n\n\n\n\n\n\nHistograma\nEl histograma es una visualización muy útil para entender la distribución de una variable cuantitativa. Se divide en intervalos que contienen el número de observaciones (en nuestro caso estados) con valores entre los límites de cada uno de ellos.\nEn el siguiente código, creamos un histograma para la variable pop2010 de la base de datos de los estados de EE. UU. La variable pop2010 representa la población de cada estado en el año 2010.\n\n\nCode\nlibrary(ggplot2)\n\n# Crea el histograma para pop2010\np &lt;- ggplot(d, aes(pop2010))+\n  \n      # Adicional la geometría con 8 intervalos\n      geom_histogram(bins = 8)\n\n# Visualiza\np\n\n\n\n\n\nComo podemos ver, el patrón común de los datos de población se revela: muchos estados con poca población y unos pocos con mucha. Ese comportamiento suele pasar también en municipios, países, etc.\n\n\nDensidad\nEl gráfico de densidad es similar al histograma, pero en lugar de contar el número de observaciones en un intervalo, muestra una curva que representa la densidad de probabilidad de la variable. En otras palabras, el área bajo la curva es igual a 1.\n\n\nCode\nlibrary(ggplot2)\n\n# Crea el gráfico de densidad de pop2010\np &lt;- ggplot(d, aes(pop2010))+\n  \n      # Adiciona la geometría de densidad\n      geom_density()\n\n# Visualiza\np\n\n\n\n\n\nComo vemos, la curva de densidad nos muestra que la mayoría de los estados tienen una población baja, pero hay algunos con una población muy alta. Se trata de la misma información que en el histograma anterior, pero no hay cortes bruscos como los generados por los intervalos. Esa característica evita posibles distorsiones ocasionadas por la elección del número o del tamaño de los intervalos.\n\n\nBoxplot\nOtro gráfico de distribución muy útil es el boxplot. Este gráfico muestra la distribución de una variable cuantitativa a través de cinco estadísticas: el mínimo, el primer cuartil, la mediana, el tercer cuartil y el máximo. Además, también muestra los valores atípicos (outliers). Se emplea para analizar la dispersión y la simetría de los datos. Un diagrama donde las partes son simétricas y la caja resulta muy pequeña indica que los datos están muy concentrados alrededor de la mediana. Por otro lado, una caja grande y asimétrica indica que los datos están dispersos y que hay una mayor dispersión hacia los mayores o menores valores.\nEl gráfico abajo crea un boxplot para la variable que mide el porcentaje de desempleo (unemploy) en cada estado. Para añadir valor, elegimos agrupar los estados por región para saber si existe algún patrón territorial en la distribución del paro en EE. UU.\nLos parámetros fill y group son necesarios para que el gráfico muestre una caja por cada región. En el primer caso, se atribuye un color a cada región y group se encarga de que cada región tenga su propia caja.\n\n\nCode\np &lt;- ggplot(data = d,\n            mapping = aes(x=unemploy, \n                          y=region,\n                          fill=region,\n                          group=region)) + \n        geom_boxplot(width=0.1)\n\np\n\n\n\n\n\nVemos claramente dos patrones. De un lado, se encuentra el Oeste con estados con poco paro y otros con una tasa elevada. La dispersión resulta alta, tanto por los “bigotes” como por el tamaño de la caja. Además, los valores altos se encuentran más dispersos, pues la caja es más grande en la parte derecha. Por otro lado, el Noreste tiene una tasa de paro más concentrada, aunque la dispersión resulta mayor en la parte superior de la caja.\n\n\nViolin plot\nEl violin plot es una combinación de un boxplot y un density plot. Muestra la distribución de una variable cuantitativa y la densidad de probabilidad de la misma. Es útil para comparar distribuciones entre diferentes grupos. En el siguiente gráfico, creamos un violin plot para la variable unemploy (tasa de paro) agrupada por región. Vemos que resulta muy parecido al boxplot anterior, pero con la ventaja de mostrar la densidad de probabilidad de la variable, es decir, dónde se concentran los valores. Aprovechamos para añadir los puntos de cada observación con geom_jitter. Así queda más fácil entender por qué el gráfico tiene la forma que tiene.\n\n\nCode\np &lt;- ggplot(data = d,\n            mapping = aes(x=unemploy, \n                          y=region,\n                          group=region)) + \n        geom_violin()+\n        geom_jitter(aes(color=region))\n\np\n\n\n\n\n\n\n\nLollipop\nEl gráfico de lollipop es una variante del gráfico de barras. En lugar de barras, se utilizan segmentos de línea para representar las frecuencias de las categorías. Es útil cuando se quiere resaltar una categoría en particular. En el siguiente gráfico, creamos un lollipop para la variable abort_rank3, que representa la clasificación de los estados según su legislación sobre el aborto.\nMientras que en los casos anteriores, cada gráfico tenía una sola geometría, en el lollipop se combinan dos: geom_point (punto) y geom_segment (segmento de línea). Esta estrategia resulta muy común en la creación de visualizaciones originales y personalizadas. Dominar la combinación entre geometrías puede ser muy útil para crear gráficos más complejos y atractivos.\n\n\nCode\nlibrary(ggplot2)\n\n# Crea una tabla ordenada con los\n# valores de abort_rank3\ntb &lt;- sort(table(d$abort_rank3))\n\n# La convierte en base de datos\n# para la función ggplot\ntb &lt;- data.frame(tb)\n\n# Crea el gráfico de lollipop\np &lt;- ggplot(tb, \n            aes(y=Var1, \n                x=Freq)) +\n  \n  # Añade los puntos rojos\n  geom_point(color=\"red\") + \n  \n  # Añade los segmentos\n  geom_segment( aes(y=Var1, \n                    yend=Var1, \n                    x=0, \n                    xend=Freq))\n\n# Dibuja el gráfico\np\n\n\n\n\n\n\n\nTreemap\nUn treemap es un gráfico de proporciones representadas por áreas o rectángulos. Cuanto mayor sea el área, mayor será la frecuencia de una categoría dada (representada por un rectángulo). La principal ventaja de los treemaps es que permite representar datos jerárquicos. Por lo tanto, los grupos y subgrupos dentro de ellos pueden visualizarse fácilmente. Además, los treemaps permiten sintetizar muchos datos en un espacio relativamente pequeño.\n\n\nCode\nlibrary(ggplot2)\n\n# Carga el paquete treemapify\nlibrary(treemapify)\n\n# Crea una tabla ordenada con\n# las políticas de control de\n# la marijuana\ntb &lt;- sort(table(d$pot_policy))\n\n# Convierte en base de datos\ntb &lt;- data.frame(tb)\n\n# Crea el treemap usando la\n# geometría geom_treemap()\n# del paquete teemapify\n\n# Inicialmente, define\n# el gráfico con el área, color\n# y etiqueta\np &lt;- ggplot(tb, \n            aes(area = Freq, \n                fill = Var1, \n                label=Var1)) +\n  \n  # Añade la geometría de\n  # treemap al gráfico\n  geom_treemap()\n\n# Visualiza el resultado\np\n\n\n\n\n\n\n\nBeeSwarm\nEl gráfico de beeswarm es una variante del scatter plot que permite visualizar la distribución de una variable cuantitativa en función de una variable categórica. Es útil para comparar la distribución de una variable cuantitativa entre diferentes grupos. En el siguiente gráfico, creamos un beeswarm para la variable pop_65_older (población de 65 años o más) agrupada por el nivel de democracia de los países. Además, añadimos el color según la religión de los países.\nComo vemos, también se parece mucho al violin plot anterior. Sin embargo, el beeswarm tiene la ventaja de mostrar cada observación individual, lo que puede ser útil para detectar patrones o valores atípicos. Además, resulta más atractivo visualmente, pues los puntos no se superponen y se distribuyen de forma más uniforme. En este caso, añadimos la religión como información adicional para intentar encontrar algún patrón en los datos.\n\n\nCode\nw &lt;- world\n\n# Carga los paquetes necesarios\nlibrary(ggplot2)        \nlibrary(ggbeeswarm)      \n\n# Crea el gráfico con el nivel de democracia\n# y la población de 65 años o más\n# con color según la religión\np &lt;- ggplot(data = w,\n            mapping = aes(x=dem_level4, \n                          y=pop_65_older, \n                          color=religoin)) \n\n# Añadimos la geometría: geom_quasirandom()\np &lt;- p + geom_quasirandom(size=1.5)\n\n# Visualizamos los resultados\np\n\n\n\n\n\nComo vemos, las poblaciones de las democracias plenas presentan una mayor proporción de personas de 65 años o más. La autocracia, por otro lado, presenta una población más joven. Además, parece que la religión predominantes en los países con mayor proporción de personas de 65 años y más democráticos es el cristianismo, mientras que los más jóvenes y autoritarios son en su mayor parte de mayoría musulmana.\n\n\nRidge Plot\nEl gráfico de ridge es una variante del density plot que permite visualizar la distribución de una variable cuantitativa en función de una variable categórica. Es útil para comparar la distribución de una variable cuantitativa entre diferentes grupos. En el siguiente gráfico, creamos un ridge para la variable frac_eth (fracción de etnias) agrupada por la religión de los países.\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\nlibrary(ggridges)\n\n# Crea el gráfico\n# con la relación entre \n# fraccionamiento étnico y religión\np &lt;- ggplot(w,\n            aes(x=frac_eth, \n                y=religoin, \n                fill=religoin))\n\n# Añade la capa de geometría\np &lt;- p + geom_density_ridges()\n\n# Visualiza los resultados\np\n\n\n\n\n\nComo vemos, la distribución de la fracción étnica varía según la religión predominante en los países. Los países con mayoría musulmana presentan una mayor fracción étnica, mientras que los países con mayoría católica presentan una menor fracción étnica. Además, los países con mayoría musulmana presentan una distribución más dispersa, mientras que los países con mayoría budista presentan una distribución más concentrada. La categoría “otros cristianos” presenta una distribución más dispersa, con dos picos.\n\n\nRaincloud Chart\nEl gráfico de raincloud resulta muy divertido. Combina un violin plot, un box plot y un scatter plot en un solo gráfico. Se llama así, porque las curvas de densidad se asemejan a nubes y los puntos dispersos representados abajo parecen gotas de lluvia. Como en versiones anteriores que hemos elaborado más arriba, tenemos una representación sintética (una curva que describe la densidad o el comportamiento de los datos) y unos puntos que representa la posición aproximada de cada observación. En el siguiente gráfico, creamos un raincloud para la variable pop_65_older (población de 65 años o más) agrupada por el nivel de democracia de los países.\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\nlibrary(ggridges)\n\n# Creamos el gráfico, los datos son w, y las\n# variables: y=dem_level4 y x=pop_65_older,\n# el color es fill=dem_level4\np &lt;- ggplot(w,\n       aes(y = dem_level4, \n           x = pop_65_older, \n           fill = dem_level4)) \n\n# Ahora adiciona la geometría, \n# que incorpora los pujntos y\n# las líneas que identifica los\n# cuartiles\np &lt;- p + geom_density_ridges(\n              jittered_points = TRUE,\n              position = \"raincloud\",\n              alpha=0.6,                            \n              quantile_lines = TRUE)\n\n# Visualiza el resultado\np"
  },
  {
    "objectID": "tipos.html#asociación-o-correlación",
    "href": "tipos.html#asociación-o-correlación",
    "title": "Tiposde gráfico",
    "section": "Asociación o correlación",
    "text": "Asociación o correlación\n\nDiagrama de dispersión\n\n\nCorrelograma\n\n\nCode\nlibrary(ggcorrplot)\n\nvar &lt;- c(\"gini10\",\"dem_score14\",\n         \"literacy\",\"lifeex_total\",\n         \"hdi\",\"pop_urban\",\"frac_eth\",\n         \"gdppcap08\")\n\ncorr &lt;- round(cor(w[,var], \n                  use=\"pairwise.complete.obs\"), \n              3)\n\nggcorrplot(corr, \n           lab_size = 3,\n           show.diag = F,\n           hc.order = T,\n           lab=T)"
  },
  {
    "objectID": "tipos.html#conexión",
    "href": "tipos.html#conexión",
    "title": "Tiposde gráfico",
    "section": "Conexión",
    "text": "Conexión\n\nRed\n\n\nCode\ndi &lt;- read.delim(\"https://www.dropbox.com/s/r8309gzg3rymajr/Visitas_Dilma_redux.csv?dl=1\", \n                 sep=\";\", \n                 dec=\",\")\n\ndi &lt;- unique(di[,c(\"NOM_O\",\"NOM_D\",\"FREQ\",\"VISITS\")])\n\nnames(di) &lt;- c(\"Origin\",\"Destination\",\"Travels\",\"Visits\")\n\n\n# Carga los paquetes\nlibrary(ggplot2)\nlibrary(ggnetwork)\n\n# Convierte la base de datos\n# en un layout de red\nn &lt;- ggnetwork(di)\n\n# Crea la red solo con los\n# vínculos (edges)\np &lt;- ggplot(n, \n       aes(x = x, \n           y = y, \n           xend = xend, \n           yend = yend)) +\n  geom_edges(aes(size=Travels),\n             color = \"red3\", \n             alpha=0.1,           \n             curvature = 0.25)    \n\n# Ahora, añade los nodos (puntos)\n# a la red anterior\np &lt;- p + geom_nodes(aes(size=Visits), \n            color=\"red3\")\n\n# Adiciona los nombres de las ciudades\np &lt;- p + geom_nodetext_repel(\n  aes(\n    label = vertex.names))\n\n# Elimina el tema y la leyenda\np &lt;- p + theme_blank() +\n         theme(legend.position = \"none\")\n\n# Visualiza los resultados\np"
  },
  {
    "objectID": "tipos.html#tiempo-flujo",
    "href": "tipos.html#tiempo-flujo",
    "title": "Tiposde gráfico",
    "section": "Tiempo / Flujo",
    "text": "Tiempo / Flujo\n\nLínea\n\n\nCode\n# Prepara el gráfico\np &lt;- ggplot(br, \n            aes(x=Year, y=Gini))+\n      geom_line()\n\n# Visualiza los resultados\np\n\n\n\n\n\n\n\nConnected scatterplot\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\nlibrary(ggrepel)\n\n# Crea el gráfico\np &lt;- ggplot(brs, \n            aes(x=Year, \n                y=Gini,\n                fill=Administration))\n\n# Añade segmentos de línea para\n# cada gobierno\np &lt;- p + geom_segment(\n                      aes(x=x1,\n                          xend=xend,\n                          y=y1,\n                          yend=yend,\n                          color=Administration))\n\n\n# Visualiza los resultados\np\n\n\n\n\n\n\n\nArea\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\n\n# Prepara el gráfico\np &lt;- ggplot(br, \n            aes(y=Growth, \n                x=Gini))+\n      geom_area(fill=\"darkgreen\")\n\n\n# Visualiza los resultados\np\n\n\n\n\n\n\n\nDumbbell\n\n\nCode\n# Carga los paquetes\nlibrary(ggplot2)\n\n# Obtiene el orden de los países según\n# la proporción de riqueza apropiada por\n# los 10% más ricos (de los más a los menos).\nlevels &lt;- lat[\n              order(\n                lat$Share[lat$Year==2000], \n                decreasing = T),\n              c(\"Country\")]\n\n# Reordena la base de datos según los niveles\n# obtenidos (esto es importante para que el \n# gráfico salga bonito y fácil de interpretar)\nlat$Country &lt;- factor(lat$Country, levels=levels)\n\n# Genera el gráfico\np &lt;- ggplot(lat,\n            aes(y=Country, \n                x=Share))\n\n# Adiciona los segmentos de línea\n# conectando cada período\np &lt;- p + geom_line(color=\"grey85\")\n\n# Añade puntos y los colorea de\n# acuerdo al año (Year)\np &lt;- p + geom_point(aes(color=Year))\n\n# Visualiza los resultados\np\n\n\n\n\n\n\n\nMapa\n\n\nCode\n# Carga los paquetes\nlibrary(ggthemes)\nlibrary(ggplot2)\nlibrary(sf)\n\n# Carga los datos de\n# los condados de Carolina \n# del Norte\nnc &lt;- st_read(system.file(\"shape/nc.shp\", \n                          package = \"sf\"), \n              quiet = TRUE)\n\n# Crea el gráfico y lo colorea\n# según el área\ngg &lt;- ggplot(nc) +\n  geom_sf(aes(fill = AREA))\n  \n# Visualiza los resultados  \ngg"
  }
]